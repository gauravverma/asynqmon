(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{632:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),i=a(729),o=a(24),u=a(61),l=a(2),d=a(5),j=a(39),b=a(45),p=a(682),O=a(719),h=a(726),g=a(727),f=a(712),m=a(642),x=a(643),v=a(709),k=a(710),y=a(728),S=a(647),T=a(635),_=a(646),E=a(364),A=a.n(E),C=a(366),R=a.n(C),w=a(369),I=a.n(w),q=a(371),N=a.n(q),P=a(368),D=a.n(P),L=a(372),G=a.n(L),B=a(370),U=a.n(B),H=a(367),K=a.n(H),z=a(365),V=a.n(z),M=function(){return{HOME:"".concat(window.ROOT_PATH,"/"),SETTINGS:"".concat(window.ROOT_PATH,"/settings"),SERVERS:"".concat(window.ROOT_PATH,"/servers"),SCHEDULERS:"".concat(window.ROOT_PATH,"/schedulers"),QUEUE_DETAILS:"".concat(window.ROOT_PATH,"/queues/:qname"),REDIS:"".concat(window.ROOT_PATH,"/redis"),TASK_DETAILS:"".concat(window.ROOT_PATH,"/queues/:qname/tasks/:taskId"),QUEUE_METRICS:"".concat(window.ROOT_PATH,"/q/metrics")}};function F(e,t){var a=M().QUEUE_DETAILS.replace(":qname",e);return t?"".concat(a,"?status=").concat(t):a}function Q(e,t){return M().TASK_DETAILS.replace(":qname",e).replace(":taskId",t)}var Y=a(373),W="POLL_INTERVAL_CHANGE",J="THEME_PREFERENCE_CHANGE",Z="TOGGLE_DRAWER",$="TASK_ROWS_PER_PAGE_CHANGE",X="DAILY_STATS_KEY_CHANGE";function ee(e){return{type:$,value:e}}var te=a(684),ae=a(46),ne=a(250),re=a.n(ne),ce=a(252),se=a.n(ce),ie=a(251),oe=a.n(ie),ue=a(249),le=a.n(ue),de=a(1),je=Object(p.a)((function(e){return Object(te.a)({root:{flexShrink:0,marginLeft:e.spacing(2.5)}})}));var be=function(e){var t=je(),a=Object(ae.a)(),n=e.count,r=e.page,c=e.rowsPerPage,s=e.onPageChange;return Object(de.jsxs)("div",{className:t.root,children:[Object(de.jsx)(T.a,{onClick:function(e){s(e,0)},disabled:0===r,"aria-label":"first page",children:"rtl"===a.direction?Object(de.jsx)(le.a,{}):Object(de.jsx)(re.a,{})}),Object(de.jsx)(T.a,{onClick:function(e){s(e,r-1)},disabled:0===r,"aria-label":"previous page",children:"rtl"===a.direction?Object(de.jsx)(oe.a,{}):Object(de.jsx)(se.a,{})}),Object(de.jsx)(T.a,{onClick:function(e){s(e,r+1)},disabled:r>=Math.ceil(n/c)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(de.jsx)(se.a,{}):Object(de.jsx)(oe.a,{})}),Object(de.jsx)(T.a,{onClick:function(e){s(e,Math.max(0,Math.ceil(n/c)-1))},disabled:r>=Math.ceil(n/c)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(de.jsx)(re.a,{}):Object(de.jsx)(le.a,{})})]})},pe=[10,20,30,60,100],Oe=a(705),he=a(706),ge=a(147),fe=a(103),me=a(163),xe=a.n(me),ve=a(731),ke=a(707),ye=a(4),Se=a.n(ye),Te=a(9),_e=a(14),Ee=a.n(_e),Ae=a(79),Ce=a.n(Ae),Re=function(){return"".concat(window.ROOT_PATH,"/api")};function we(){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(Te.a)(Se.a.mark((function e(){var t;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"get",url:"".concat(Re(),"/queues")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){return De.apply(this,arguments)}function De(){return(De=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,":pause")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,":resume")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(Te.a)(Se.a.mark((function e(){var t;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"get",url:"".concat(Re(),"/queue_stats")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"get",url:"".concat(Re(),"/queues/").concat(t,"/groups")});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(Te.a)(Se.a.mark((function e(t,a){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Re(),"/queues/").concat(t,"/tasks/").concat(a),e.next=3,Ee()({method:"get",url:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(Te.a)(Se.a.mark((function e(t,a){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Re(),"/queues/").concat(t,"/active_tasks"),a&&(n+="?".concat(Ce.a.stringify(a))),e.next=4,Ee()({method:"get",url:n});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/active_tasks/").concat(a,":cancel")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/active_tasks:cancel_all")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t){return $e.apply(this,arguments)}function $e(){return($e=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/active_tasks:batch_cancel"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e,t){return et.apply(this,arguments)}function et(){return(et=Object(Te.a)(Se.a.mark((function e(t,a){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Re(),"/queues/").concat(t,"/pending_tasks"),a&&(n+="?".concat(Ce.a.stringify(a))),e.next=4,Ee()({method:"get",url:n});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e,t){return at.apply(this,arguments)}function at(){return(at=Object(Te.a)(Se.a.mark((function e(t,a){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Re(),"/queues/").concat(t,"/scheduled_tasks"),a&&(n+="?".concat(Ce.a.stringify(a))),e.next=4,Ee()({method:"get",url:n});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=Object(Te.a)(Se.a.mark((function e(t,a){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Re(),"/queues/").concat(t,"/retry_tasks"),a&&(n+="?".concat(Ce.a.stringify(a))),e.next=4,Ee()({method:"get",url:n});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t){return st.apply(this,arguments)}function st(){return(st=Object(Te.a)(Se.a.mark((function e(t,a){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Re(),"/queues/").concat(t,"/archived_tasks"),a&&(n+="?".concat(Ce.a.stringify(a))),e.next=4,Ee()({method:"get",url:n});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t){return ot.apply(this,arguments)}function ot(){return(ot=Object(Te.a)(Se.a.mark((function e(t,a){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Re(),"/queues/").concat(t,"/completed_tasks"),a&&(n+="?".concat(Ce.a.stringify(a))),e.next=4,Ee()({method:"get",url:n});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t,a){return lt.apply(this,arguments)}function lt(){return(lt=Object(Te.a)(Se.a.mark((function e(t,a,n){var r,c;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks"),n&&(r+="?".concat(Ce.a.stringify(n))),e.next=4,Ee()({method:"get",url:r});case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/pending_tasks/").concat(a,":archive")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/pending_tasks:batch_archive"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e){return ht.apply(this,arguments)}function ht(){return(ht=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/pending_tasks:archive_all")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e,t){return ft.apply(this,arguments)}function ft(){return(ft=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/pending_tasks/").concat(a)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/pending_tasks:batch_delete"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/pending_tasks:delete_all")});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t,a){return St.apply(this,arguments)}function St(){return(St=Object(Te.a)(Se.a.mark((function e(t,a,n){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks/").concat(n)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e,t,a){return _t.apply(this,arguments)}function _t(){return(_t=Object(Te.a)(Se.a.mark((function e(t,a,n){var r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks:batch_delete"),data:{task_ids:n}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(e,t){return At.apply(this,arguments)}function At(){return(At=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks:delete_all")});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e,t,a){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(Te.a)(Se.a.mark((function e(t,a,n){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks/").concat(n,":run")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e,t,a){return It.apply(this,arguments)}function It(){return(It=Object(Te.a)(Se.a.mark((function e(t,a,n){var r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks:batch_run"),data:{task_ids:n}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks:run_all")});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e,t,a){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(Te.a)(Se.a.mark((function e(t,a,n){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks/").concat(n,":archive")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e,t,a){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(Te.a)(Se.a.mark((function e(t,a,n){var r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks:batch_archive"),data:{task_ids:n}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/groups/").concat(a,"/aggregating_tasks:archive_all")});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/scheduled_tasks/").concat(a,":run")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/scheduled_tasks/").concat(a,":archive")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/scheduled_tasks/").concat(a)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/scheduled_tasks:batch_delete"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/scheduled_tasks:delete_all")});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/scheduled_tasks:batch_run"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){return ea.apply(this,arguments)}function ea(){return(ea=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/scheduled_tasks:run_all")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return aa.apply(this,arguments)}function aa(){return(aa=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/scheduled_tasks:batch_archive"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e){return ra.apply(this,arguments)}function ra(){return(ra=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/scheduled_tasks:archive_all")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e,t){return sa.apply(this,arguments)}function sa(){return(sa=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/retry_tasks/").concat(a,":run")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e,t){return oa.apply(this,arguments)}function oa(){return(oa=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/retry_tasks/").concat(a,":archive")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e,t){return la.apply(this,arguments)}function la(){return(la=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/retry_tasks/").concat(a)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t){return ja.apply(this,arguments)}function ja(){return(ja=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/retry_tasks:batch_delete"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ba(e){return pa.apply(this,arguments)}function pa(){return(pa=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/retry_tasks:delete_all")});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oa(e,t){return ha.apply(this,arguments)}function ha(){return(ha=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/retry_tasks:batch_run"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e){return fa.apply(this,arguments)}function fa(){return(fa=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/retry_tasks:run_all")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return xa.apply(this,arguments)}function xa(){return(xa=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/retry_tasks:batch_archive"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(e){return ka.apply(this,arguments)}function ka(){return(ka=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/retry_tasks:archive_all")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ya(e,t){return Sa.apply(this,arguments)}function Sa(){return(Sa=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/archived_tasks/").concat(a,":run")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,t){return _a.apply(this,arguments)}function _a(){return(_a=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/archived_tasks/").concat(a)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e,t){return Aa.apply(this,arguments)}function Aa(){return(Aa=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/archived_tasks:batch_delete"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ca(e){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/archived_tasks:delete_all")});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wa(e,t){return Ia.apply(this,arguments)}function Ia(){return(Ia=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/archived_tasks:batch_run"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qa(e){return Na.apply(this,arguments)}function Na(){return(Na=Object(Te.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/archived_tasks:run_all")});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pa(e,t){return Da.apply(this,arguments)}function Da(){return(Da=Object(Te.a)(Se.a.mark((function e(t,a){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/completed_tasks/").concat(a)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e,t){return Ga.apply(this,arguments)}function Ga(){return(Ga=Object(Te.a)(Se.a.mark((function e(t,a){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"post",url:"".concat(Re(),"/queues/").concat(t,"/completed_tasks:batch_delete"),data:{task_ids:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ba(e){return Ua.apply(this,arguments)}function Ua(){return(Ua=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"delete",url:"".concat(Re(),"/queues/").concat(t,"/completed_tasks:delete_all")});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(){return Ka.apply(this,arguments)}function Ka(){return(Ka=Object(Te.a)(Se.a.mark((function e(){var t;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"get",url:"".concat(Re(),"/servers")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function za(){return Va.apply(this,arguments)}function Va(){return(Va=Object(Te.a)(Se.a.mark((function e(){var t;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"get",url:"".concat(Re(),"/scheduler_entries")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(e){return Fa.apply(this,arguments)}function Fa(){return(Fa=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"get",url:"".concat(Re(),"/scheduler_entries/").concat(t,"/enqueue_events")});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(Te.a)(Se.a.mark((function e(){var t;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee()({method:"get",url:"".concat(Re(),"/redis_info")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wa(e,t,a){return Ja.apply(this,arguments)}function Ja(){return(Ja=Object(Te.a)(Se.a.mark((function e(t,a,n){var r,c;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={endtime:t,duration:a},n&&n.length>0&&(r.queues=n.join(",")),e.next=4,Ee()({method:"get",url:"".concat(Re(),"/metrics?").concat(Ce.a.stringify(r))});case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Za(e){var t=e.response;return t?"".concat(t.status," (").concat(t.statusText,"): ").concat(t.data):"error: no error response data available"}function $a(e){var t=e.response;return t?t.data:"Unknown error occurred. See the logs for details."}function Xa(e){var t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60);return{hour:t,minute:a,second:e-3600*t-60*a,totalSeconds:e}}function en(e,t){var a=e-t;return Xa(Math.floor(a/1e3))}function tn(e){if(e.hour>24){var t=Math.floor(e.hour/24);return t+(1===t?" day":" days")}return(0!==e.hour?"".concat(e.hour,"h"):"")+(0!==e.minute?"".concat(e.minute,"m"):"")+"".concat(e.second,"s")}function an(e){try{var t=en(Date.parse(e),Date.now());return t.totalSeconds<1?"now":"in "+tn(t)}catch(a){return"-"}}function nn(e){if("0001-01-01T00:00:00Z"===e)return"-";try{return rn(Date.parse(e)/1e3)}catch(t){return console.error("Could not parse timestamp: ",e,t),"-"}}function rn(e){return 0===e?"":tn(en(Date.now(),1e3*e))+" ago"}function cn(e){var t=e.indexOf("-");return-1===t?e:e.substr(0,t)}function sn(e,t){if(0===t)return"0.00%";var a=(e/t*100).toFixed(2);return"".concat(a," %")}function on(e){return function(e){try{JSON.parse(e)}catch(t){return!1}return!0}(e)?JSON.stringify(JSON.parse(e),null,2):e}function un(){return Math.floor(Date.now()/1e3)}var ln=/([0-9]*(\.[0-9]*)?)[s|m|h]/;var dn="LIST_QUEUES_BEGIN",jn="LIST_QUEUES_SUCCESS",bn="LIST_QUEUES_ERROR",pn="DELETE_QUEUE_BEGIN",On="DELETE_QUEUE_SUCCESS",hn="DELETE_QUEUE_ERROR",gn="PAUSE_QUEUE_BEGIN",fn="PAUSE_QUEUE_SUCCESS",mn="PAUSE_QUEUE_ERROR",xn="RESUME_QUEUE_BEGIN",vn="RESUME_QUEUE_SUCCESS",kn="RESUME_QUEUE_ERROR";function yn(){return function(){var e=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:dn}),e.prev=1,e.next=4,we();case 4:a=e.sent,t({type:jn,payload:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("listQueuesAsync: ".concat(Za(e.t0))),t({type:bn,error:$a(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}function Sn(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:pn,queue:e}),t.prev=1,t.next=4,qe(e);case 4:a({type:On,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0),a({type:hn,queue:e,error:$a(t.t0)});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}var Tn="LIST_QUEUE_STATS_BEGIN",_n="LIST_QUEUE_STATS_SUCCESS",En="LIST_QUEUE_STATS_ERROR";var An=a(685),Cn=a(686),Rn=a(689),wn=a(205),In=a(206),qn=a(168),Nn=a(165),Pn=a(377);var Dn=function(e){var t=Object(ae.a)(),a=Object(b.f)();return Object(de.jsx)(An.a,{children:Object(de.jsxs)(Cn.a,{data:e.data,maxBarSize:120,onClick:function(t){var n=e.data.map((function(e){return e.queue}));t&&t.activeLabel&&n.includes(t.activeLabel)&&a.push(F(t.activeLabel))},style:{cursor:"pointer"},children:[Object(de.jsx)(Rn.a,{strokeDasharray:"3 3"}),Object(de.jsx)(wn.a,{dataKey:"queue",stroke:t.palette.text.secondary}),Object(de.jsx)(In.a,{stroke:t.palette.text.secondary}),Object(de.jsx)(qn.a,{}),Object(de.jsx)(Nn.a,{}),Object(de.jsx)(Pn.a,{dataKey:"active",stackId:"a",fill:"#1967d2"}),Object(de.jsx)(Pn.a,{dataKey:"pending",stackId:"a",fill:"#669df6"}),Object(de.jsx)(Pn.a,{dataKey:"aggregating",stackId:"a",fill:"#e69138"}),Object(de.jsx)(Pn.a,{dataKey:"scheduled",stackId:"a",fill:"#fdd663"}),Object(de.jsx)(Pn.a,{dataKey:"retry",stackId:"a",fill:"#f666a9"}),Object(de.jsx)(Pn.a,{dataKey:"archived",stackId:"a",fill:"#ac4776"}),Object(de.jsx)(Pn.a,{dataKey:"completed",stackId:"a",fill:"#4bb543"})]})})};var Ln=function(e){var t=Object(ae.a)();return Object(de.jsx)(An.a,{children:Object(de.jsxs)(Cn.a,{data:e.data,maxBarSize:120,children:[Object(de.jsx)(Rn.a,{strokeDasharray:"3 3"}),Object(de.jsx)(wn.a,{dataKey:"queue",stroke:t.palette.text.secondary}),Object(de.jsx)(In.a,{stroke:t.palette.text.secondary}),Object(de.jsx)(qn.a,{}),Object(de.jsx)(Nn.a,{}),Object(de.jsx)(Pn.a,{dataKey:"succeeded",stackId:"a",fill:t.palette.success.light}),Object(de.jsx)(Pn.a,{dataKey:"failed",stackId:"a",fill:t.palette.error.light})]})})},Gn=a(19),Bn=a(102),Un=a(696),Hn=a(700),Kn=a(699),zn=a(695),Vn=a(697),Mn=a(698),Fn=a(741),Qn=a(701),Yn=a(342),Wn=a.n(Yn),Jn=a(341),Zn=a.n(Jn),$n=a(57),Xn=a.n($n),er=a(53),tr=a.n(er),ar=a(638),nr=a(690),rr=a(694),cr=a(692),sr=a(693),ir=a(691);var or,ur=Object(o.b)((function(e,t){var a=!1;if(null!==t.queue){var n=e.queues.data.find((function(e){var a;return e.name===(null===(a=t.queue)||void 0===a?void 0:a.queue)}));void 0!==n&&(a=n.requestPending)}return{requestPending:a}}),{deleteQueueAsync:Sn})((function(e){return Object(de.jsx)(nr.a,{open:null!==e.queue,onClose:e.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:null!==e.queue&&(e.queue.size>0?Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(ir.a,{id:"alert-dialog-title",children:"Queue is not empty"}),Object(de.jsx)(cr.a,{children:Object(de.jsxs)(sr.a,{id:"alert-dialog-description",children:['You are trying to delete a non-emtpy queue "',e.queue.queue,'". Please empty the queue first before deleting.']})}),Object(de.jsx)(rr.a,{children:Object(de.jsx)(ar.a,{onClick:e.onClose,color:"primary",children:"OK"})})]}):Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(ir.a,{id:"alert-dialog-title",children:['Are you sure you want to delete "',e.queue.queue,'"?']}),Object(de.jsx)(cr.a,{children:Object(de.jsx)(sr.a,{id:"alert-dialog-description",children:"You can't undo this action."})}),Object(de.jsxs)(rr.a,{children:[Object(de.jsx)(ar.a,{onClick:e.onClose,disabled:e.requestPending,color:"primary",children:"Cancel"}),Object(de.jsx)(ar.a,{onClick:function(){e.queue&&(e.deleteQueueAsync(e.queue.queue),e.onClose())},disabled:e.requestPending,color:"primary",autoFocus:!0,children:"Delete"})]})]}))})}));!function(e){e.Asc="asc",e.Desc="desc"}(or||(or={}));var lr,dr=a(141),jr=a.n(dr),br=Object(p.a)((function(e){return{table:{minWidth:650},fixedCell:{position:"sticky",zIndex:1,left:0,background:e.palette.background.paper}}}));!function(e){e[e.Queue=0]="Queue",e[e.State=1]="State",e[e.Size=2]="Size",e[e.MemoryUsage=3]="MemoryUsage",e[e.Latency=4]="Latency",e[e.Processed=5]="Processed",e[e.Failed=6]="Failed",e[e.ErrorRate=7]="ErrorRate",e[e.None=8]="None"}(lr||(lr={}));var pr=[{label:"Queue",key:"queue",sortBy:lr.Queue,align:"left"},{label:"State",key:"state",sortBy:lr.State,align:"left"},{label:"Size",key:"size",sortBy:lr.Size,align:"right"},{label:"Memory usage",key:"memory_usage",sortBy:lr.MemoryUsage,align:"right"},{label:"Latency",key:"latency",sortBy:lr.Latency,align:"right"},{label:"Processed",key:"processed",sortBy:lr.Processed,align:"right"},{label:"Failed",key:"failed",sortBy:lr.Failed,align:"right"},{label:"Error rate",key:"error_rate",sortBy:lr.ErrorRate,align:"right"},{label:"Actions",key:"actions",sortBy:lr.None,align:"center"}];function Or(e,t){var a=Object(Bn.a)(e);return a.sort(t),a}function hr(e){var t=br(),a=Object(n.useState)(lr.Queue),c=Object(Gn.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(or.Asc),u=Object(Gn.a)(o,2),l=u[0],j=u[1],b=Object(n.useState)(null),p=Object(Gn.a)(b,2),O=p[0],h=p[1];return Object(de.jsxs)(r.a.Fragment,{children:[Object(de.jsx)(zn.a,{children:Object(de.jsxs)(Un.a,{className:t.table,"aria-label":"queues overview table",children:[Object(de.jsx)(Vn.a,{children:Object(de.jsx)(Mn.a,{children:pr.filter((function(e){return!window.READ_ONLY||"actions"!==e.key})).map((function(e,a){return Object(de.jsx)(Kn.a,{align:e.align,className:Object(d.default)(0===a&&t.fixedCell),children:e.sortBy!==lr.None?Object(de.jsx)(Fn.a,{active:s===e.sortBy,direction:l,onClick:(n=e.sortBy,function(e){if(n===s){var t=l===or.Asc?or.Desc:or.Asc;j(t)}else i(n)}),children:e.label}):Object(de.jsx)("div",{children:e.label})},e.key);var n}))})}),Object(de.jsx)(Hn.a,{children:Or(e.queues,(function(e,t){var a;switch(s){case lr.Queue:if(e.queue===t.queue)return 0;a=e.queue<t.queue;break;case lr.State:if(e.paused===t.paused)return 0;a=!e.paused;break;case lr.Size:if(e.size===t.size)return 0;a=e.size<t.size;break;case lr.MemoryUsage:if(e.memory_usage_bytes===t.memory_usage_bytes)return 0;a=e.memory_usage_bytes<t.memory_usage_bytes;break;case lr.Latency:if(e.latency_msec===t.latency_msec)return 0;a=e.latency_msec<t.latency_msec;break;case lr.Processed:if(e.processed===t.processed)return 0;a=e.processed<t.processed;break;case lr.Failed:if(e.failed===t.failed)return 0;a=e.failed<t.failed;break;case lr.ErrorRate:var n=e.failed/e.processed,r=t.failed/t.processed;if(n===r)return 0;a=n<r;break;default:throw"Unexpected order by value: ".concat(s)}return l===or.Asc?a?-1:1:a?1:-1})).map((function(t){return Object(de.jsx)(fr,{queue:t,onPauseClick:function(){return e.onPauseClick(t.queue)},onResumeClick:function(){return e.onResumeClick(t.queue)},onDeleteClick:function(){return h(t)}},t.queue)}))})]})}),Object(de.jsx)(ur,{onClose:function(){h(null)},queue:O})]})}var gr=Object(p.a)((function(e){return{row:{"&:last-child td":{borderBottomWidth:0},"&:last-child th":{borderBottomWidth:0}},linkText:{textDecoration:"none",color:e.palette.text.primary,"&:hover":{textDecoration:"underline"}},textGreen:{color:e.palette.success.dark},textRed:{color:e.palette.error.dark},boldCell:{fontWeight:600},fixedCell:{position:"sticky",zIndex:1,left:0,background:e.palette.background.paper},actionIconsContainer:{display:"flex",justifyContent:"center",minWidth:"100px"}}}));function fr(e){var t=gr(),a=e.queue,c=Object(n.useState)(!1),s=Object(Gn.a)(c,2),i=s[0],o=s[1];return Object(de.jsxs)(Mn.a,{className:t.row,children:[Object(de.jsx)(Kn.a,{component:"th",scope:"row",className:Object(d.default)(t.boldCell,t.fixedCell),children:Object(de.jsx)(j.b,{to:F(a.queue),className:t.linkText,children:a.queue})}),Object(de.jsx)(Kn.a,{children:a.paused?Object(de.jsx)("span",{className:t.textRed,children:"paused"}):Object(de.jsx)("span",{className:t.textGreen,children:"run"})}),Object(de.jsx)(Kn.a,{align:"right",children:a.size}),Object(de.jsx)(Kn.a,{align:"right",children:jr()(a.memory_usage_bytes)}),Object(de.jsx)(Kn.a,{align:"right",children:a.display_latency}),Object(de.jsx)(Kn.a,{align:"right",children:a.processed}),Object(de.jsx)(Kn.a,{align:"right",children:a.failed}),Object(de.jsx)(Kn.a,{align:"right",children:sn(a.failed,a.processed)}),!window.READ_ONLY&&Object(de.jsx)(Kn.a,{align:"center",onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:Object(de.jsx)("div",{className:t.actionIconsContainer,children:i?Object(de.jsxs)(r.a.Fragment,{children:[a.paused?Object(de.jsx)(Qn.a,{title:"Resume",children:Object(de.jsx)(T.a,{color:"secondary",onClick:e.onResumeClick,disabled:a.requestPending,size:"small",children:Object(de.jsx)(Zn.a,{fontSize:"small"})})}):Object(de.jsx)(Qn.a,{title:"Pause",children:Object(de.jsx)(T.a,{color:"primary",onClick:e.onPauseClick,disabled:a.requestPending,size:"small",children:Object(de.jsx)(Wn.a,{fontSize:"small"})})}),Object(de.jsx)(Qn.a,{title:"Delete",children:Object(de.jsx)(T.a,{onClick:e.onDeleteClick,size:"small",children:Object(de.jsx)(Xn.a,{fontSize:"small"})})})]}):Object(de.jsx)(T.a,{size:"small",children:Object(de.jsx)(tr.a,{fontSize:"small"})})})})]},a.queue)}var mr=a(10),xr=Object(mr.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:400,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(Qn.a),vr=a(702),kr=a(343),yr=a.n(kr),Sr=a(640),Tr=a(256),_r=a(639),Er=a(703),Ar=a(641),Cr=Object(p.a)((function(e){return{popper:{zIndex:2},buttonContained:{backgroundColor:Mr(e)?"#303030":e.palette.background.default,color:e.palette.text.primary,"&:hover":{backgroundColor:e.palette.action.hover}}}}));function Rr(e){var t=Cr(),a=r.a.useState(!1),n=Object(Gn.a)(a,2),c=n[0],s=n[1],i=r.a.useRef(null),o=r.a.useState(e.initialSelectedKey),u=Object(Gn.a)(o,2),d=u[0],j=u[1],b=function(e){i.current&&i.current.contains(e.target)||s(!1)},p=e.options.find((function(e){return e.key===d}));return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(vr.a,{variant:"contained",ref:i,"aria-label":"split button",size:"small",disableElevation:!0,children:[Object(de.jsx)(ar.a,{classes:{contained:t.buttonContained},children:p?p.label:"Select Option"}),Object(de.jsx)(ar.a,{size:"small","aria-controls":c?"split-button-menu":void 0,"aria-expanded":c?"true":void 0,"aria-label":"select option","aria-haspopup":"menu",onClick:function(){s((function(e){return!e}))},classes:{contained:t.buttonContained},children:Object(de.jsx)(yr.a,{})})]}),Object(de.jsx)(_r.a,{open:c,anchorEl:i.current,role:void 0,transition:!0,disablePortal:!0,className:t.popper,children:function(t){var a=t.TransitionProps,n=t.placement;return Object(de.jsx)(Tr.a,Object(l.a)(Object(l.a)({},a),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(de.jsx)(ge.a,{children:Object(de.jsx)(Sr.a,{onClickAway:b,children:Object(de.jsx)(Ar.a,{id:"split-button-menu",children:e.options.map((function(t){return Object(de.jsx)(Er.a,{selected:t.key===d,onClick:function(a){return n=t.key,j(n),s(!1),void e.onSelect(n);var n},children:t.label},t.key)}))})})})}))}})]})}function wr(e,t){Object(n.useEffect)((function(){e();var a=setInterval(e,1e3*t);return function(){return clearInterval(a)}}),[t,e])}function Ir(){var e=Object(b.g)().search;return Object(n.useMemo)((function(){return new URLSearchParams(e)}),[e])}var qr=a(41),Nr=a(704),Pr=a(344);function Dr(e){var t=function(e,t){var a={};for(var n in e){var r,c=Object(qr.a)(e[n]);try{for(c.s();!(r=c.n()).done;){var s=r.value;a.hasOwnProperty(s.date)||(a[s.date]={succeeded:0,failed:0,date:s.date}),a[s.date].succeeded+=s.processed-s.failed,a[s.date].failed+=s.failed}}catch(i){c.e(i)}finally{c.f()}}return Object.values(a).sort(Lr).slice(-t)}(e.data,e.numDays),a=Object(ae.a)();return Object(de.jsx)(An.a,{children:Object(de.jsxs)(Nr.a,{data:t,children:[Object(de.jsx)(Rn.a,{strokeDasharray:"3 3"}),Object(de.jsx)(wn.a,{dataKey:"date",minTickGap:10,stroke:a.palette.text.secondary}),Object(de.jsx)(In.a,{stroke:a.palette.text.secondary}),Object(de.jsx)(qn.a,{}),Object(de.jsx)(Nn.a,{}),Object(de.jsx)(Pr.a,{type:"monotone",dataKey:"succeeded",stroke:a.palette.success.main}),Object(de.jsx)(Pr.a,{type:"monotone",dataKey:"failed",stroke:a.palette.error.main})]})})}function Lr(e,t){return Date.parse(e.date)-Date.parse(t.date)}var Gr=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},chartHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing(2)},chartHeaderTitle:{display:"flex",alignItems:"center"},chartContainer:{width:"100%",height:"300px"},infoIcon:{marginLeft:e.spacing(1),color:e.palette.grey[500],cursor:"pointer"},tooltipSection:{marginBottom:"4px"},tableContainer:{marginBottom:e.spacing(2)}}}));var Br={listQueuesAsync:yn,pauseQueueAsync:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:gn,queue:e}),t.prev=1,t.next=4,Pe(e);case 4:a({type:fn,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("pauseQueueAsynq: ",Za(t.t0)),a({type:mn,queue:e,error:$a(t.t0)});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},resumeQueueAsync:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:xn,queue:e}),t.prev=1,t.next=4,Le(e);case 4:a({type:vn,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("resumeQueueAsync: ",Za(t.t0)),a({type:kn,queue:e,error:$a(t.t0)});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteQueueAsync:Sn,listQueueStatsAsync:function(){return function(){var e=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Tn}),e.prev=1,e.next=4,Be();case 4:a=e.sent,t({type:_n,payload:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("listQueueStatsAsync: ",Za(e.t0)),t({type:En,error:$a(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},dailyStatsKeyChange:function(e){return{type:X,value:e}}};var Ur,Hr=Object(o.b)((function(e){return{loading:e.queues.loading,queues:e.queues.data.map((function(e){return Object(l.a)(Object(l.a)({},e.currentStats),{},{requestPending:e.requestPending})})),error:e.queues.error,pollInterval:e.settings.pollInterval,queueStats:e.queueStats.data,dailyStatsKey:e.settings.dailyStatsChartType}}),Br)((function(e){var t=e.pollInterval,a=e.listQueuesAsync,r=e.queues,c=e.listQueueStatsAsync,s=e.dailyStatsKey,i=Gr();wr(a,t);var o=r.map((function(e){return e.queue})).sort().join(",");Object(n.useEffect)((function(){c()}),[c,o]);var u=r.map((function(e){return{queue:e.queue,succeeded:e.processed-e.failed,failed:e.failed}}));return Object(de.jsx)(Oe.a,{maxWidth:"lg",className:i.container,children:Object(de.jsxs)(he.a,{container:!0,spacing:3,children:[e.error.length>0&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsxs)(ve.a,{severity:"error",children:[Object(de.jsx)(ke.a,{children:"Error"}),"Could not retrieve queues live data \u2014"," ",Object(de.jsx)("strong",{children:"See the logs for details"})]})}),Object(de.jsx)(he.a,{item:!0,xs:6,children:Object(de.jsxs)(ge.a,{className:i.paper,variant:"outlined",children:[Object(de.jsx)("div",{className:i.chartHeader,children:Object(de.jsxs)("div",{className:i.chartHeaderTitle,children:[Object(de.jsx)(fe.a,{variant:"h6",children:"Queue Size"}),Object(de.jsx)(xr,{title:Object(de.jsxs)("div",{children:[Object(de.jsx)("div",{className:i.tooltipSection,children:"Total number of tasks in the queue"}),Object(de.jsxs)("div",{className:i.tooltipSection,children:[Object(de.jsx)("strong",{children:"Active"}),": number of tasks currently being processed"]}),Object(de.jsxs)("div",{className:i.tooltipSection,children:[Object(de.jsx)("strong",{children:"Pending"}),": number of tasks ready to be processed"]}),Object(de.jsxs)("div",{className:i.tooltipSection,children:[Object(de.jsx)("strong",{children:"Scheduled"}),": number of tasks scheduled to be processed in the future"]}),Object(de.jsxs)("div",{className:i.tooltipSection,children:[Object(de.jsx)("strong",{children:"Retry"}),": number of tasks scheduled to be retried in the future"]}),Object(de.jsxs)("div",{children:[Object(de.jsx)("strong",{children:"Archived"}),": number of tasks exhausted their retries"]})]}),children:Object(de.jsx)(xe.a,{fontSize:"small",className:i.infoIcon})})]})}),Object(de.jsx)("div",{className:i.chartContainer,children:Object(de.jsx)(Dn,{data:r})})]})}),Object(de.jsx)(he.a,{item:!0,xs:6,children:Object(de.jsxs)(ge.a,{className:i.paper,variant:"outlined",children:[Object(de.jsxs)("div",{className:i.chartHeader,children:[Object(de.jsxs)("div",{className:i.chartHeaderTitle,children:[Object(de.jsx)(fe.a,{variant:"h6",children:"Tasks Processed"}),Object(de.jsx)(xr,{title:Object(de.jsxs)("div",{children:[Object(de.jsx)("div",{className:i.tooltipSection,children:"Total number of tasks processed in a given day (UTC)"}),Object(de.jsxs)("div",{className:i.tooltipSection,children:[Object(de.jsx)("strong",{children:"Succeeded"}),": number of tasks successfully processed"]}),Object(de.jsxs)("div",{children:[Object(de.jsx)("strong",{children:"Failed"}),": number of tasks failed to be processed"]})]}),children:Object(de.jsx)(xe.a,{fontSize:"small",className:i.infoIcon})})]}),Object(de.jsx)("div",{children:Object(de.jsx)(Rr,{options:[{label:"Today",key:"today"},{label:"Last 7d",key:"last-7d"},{label:"Last 30d",key:"last-30d"},{label:"Last 90d",key:"last-90d"}],initialSelectedKey:s,onSelect:function(t){return e.dailyStatsKeyChange(t)}})})]}),Object(de.jsxs)("div",{className:i.chartContainer,children:["today"===s&&Object(de.jsx)(Ln,{data:u}),"last-7d"===s&&Object(de.jsx)(Dr,{data:e.queueStats,numDays:7}),"last-30d"===s&&Object(de.jsx)(Dr,{data:e.queueStats,numDays:30}),"last-90d"===s&&Object(de.jsx)(Dr,{data:e.queueStats,numDays:90})]})]})}),Object(de.jsx)(he.a,{item:!0,xs:12,className:i.tableContainer,children:Object(de.jsx)(ge.a,{className:i.paper,variant:"outlined",children:Object(de.jsx)(hr,{queues:r,onPauseClick:e.pauseQueueAsync,onResumeClick:e.resumeQueueAsync,onDeleteClick:e.deleteQueueAsync})})})]})})}));!function(e){e[e.SystemDefault=0]="SystemDefault",e[e.Always=1]="Always",e[e.Never=2]="Never"}(Ur||(Ur={}));var Kr={pollInterval:8,themePreference:Ur.SystemDefault,isDrawerOpen:!0,taskRowsPerPage:20,dailyStatsChartType:"last-7d"};var zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(l.a)(Object(l.a)({},e),{},{pollInterval:t.value});case J:return Object(l.a)(Object(l.a)({},e),{},{themePreference:t.value});case Z:return Object(l.a)(Object(l.a)({},e),{},{isDrawerOpen:!e.isDrawerOpen});case $:return Object(l.a)(Object(l.a)({},e),{},{taskRowsPerPage:t.value});case X:return Object(l.a)(Object(l.a)({},e),{},{dailyStatsChartType:t.value});default:return e}},Vr=a(708);function Mr(e){return"dark"===e.palette.type}var Fr="CLOSE_SNACKBAR";var Qr=Object(p.a)((function(e){return{listItem:{borderTopRightRadius:"24px",borderBottomRightRadius:"24px"},selected:{backgroundColor:Mr(e)?"".concat(e.palette.secondary.main,"30"):"".concat(e.palette.primary.main,"30")},selectedText:{fontWeight:600,color:Mr(e)?e.palette.secondary.main:e.palette.primary.main},selectedIcon:{color:Mr(e)?e.palette.secondary.main:e.palette.primary.main}}}));var Yr=function(e){var t=Qr(),a=e.icon,n=e.primary,c=e.to,s=Object(b.i)({path:c,strict:!0,sensitive:!0,exact:!0}),i=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return Object(de.jsx)(j.b,Object(l.a)({to:c,ref:t},e))}))}),[c]);return Object(de.jsx)("li",{children:Object(de.jsx)(Qn.a,{title:n,placement:"right",children:Object(de.jsxs)(x.a,{button:!0,component:i,className:Object(d.default)(t.listItem,s&&t.selected),children:[a&&Object(de.jsx)(v.a,{className:Object(d.default)(s&&t.selectedIcon),children:a}),Object(de.jsx)(k.a,{primary:n,classes:{primary:s?t.selectedText:void 0}})]})})})},Wr=a(259),Jr=a(351),Zr=a.n(Jr),$r=a(734),Xr=a(346),ec=a(348),tc=a(349);function ac(e){var t=Mr(Object(ae.a)())?ec.a:tc.a;return Object(de.jsx)($r.a,{language:e.language,style:t,customStyle:e.customStyle,children:e.children})}$r.a.registerLanguage("json",Xr.a);var nc=a(350),rc=a.n(nc),cc="LIST_SCHEDULER_ENTRIES_BEGIN",sc="LIST_SCHEDULER_ENTRIES_SUCCESS",ic="LIST_SCHEDULER_ENTRIES_ERROR",oc="LIST_SCHEDULER_ENQUEUE_EVENTS_BEGIN",uc="LIST_SCHEDULER_ENQUEUE_EVENTS_SUCCESS",lc="LIST_SCHEDULER_ENQUEUE_EVENTS_ERROR";function dc(e,t){return e.enqueueEventsByEntryId[t]||{data:[],loading:!1}}var jc={loading:!1,data:[],error:"",enqueueEventsByEntryId:{}};var bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cc:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case sc:return Object(l.a)(Object(l.a)({},e),{},{error:"",loading:!1,data:t.payload.entries});case ic:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});case oc:var a=dc(e,t.entryId);return Object(l.a)(Object(l.a)({},e),{},{enqueueEventsByEntryId:Object(l.a)(Object(l.a)({},e.enqueueEventsByEntryId),{},Object(u.a)({},t.entryId,Object(l.a)(Object(l.a)({},a),{},{loading:!0})))});case uc:var n=function(e,t){return Date.parse(t.enqueued_at)-Date.parse(e.enqueued_at)},r=dc(e,t.entryId),c=rc()([].concat(Object(Bn.a)(r.data),Object(Bn.a)(t.payload.events)),"task_id").sort(n);return Object(l.a)(Object(l.a)({},e),{},{enqueueEventsByEntryId:Object(l.a)(Object(l.a)({},e.enqueueEventsByEntryId),{},Object(u.a)({},t.entryId,{loading:!1,data:c}))});case lc:var s=dc(e,t.entryId);return Object(l.a)(Object(l.a)({},e),{},{enqueueEventsByEntryId:Object(l.a)(Object(l.a)({},e.enqueueEventsByEntryId),{},Object(u.a)({},t.entryId,Object(l.a)(Object(l.a)({},s),{},{loading:!1})))});default:return e}},pc=Object(p.a)((function(e){return{table:{height:"80vh"},stickyHeaderCell:{background:e.palette.background.paper}}}));var Oc,hc=Object(o.b)((function(e,t){return{events:dc(e.schedulerEntries,t.entryId)}}),{listSchedulerEnqueueEventsAsync:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){var n;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:oc,entryId:e}),t.prev=1,t.next=4,Ma(e);case 4:n=t.sent,a({type:uc,payload:n,entryId:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("listSchedulerEnqueueEventsAsync: ",Za(t.t0)),a({type:lc,error:$a(t.t0),entryId:e});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=pc(),a=e.listSchedulerEnqueueEventsAsync,r=e.entryId,c=e.events;return Object(n.useEffect)((function(){a(r)}),[r,a]),Object(de.jsx)(zn.a,{className:t.table,children:Object(de.jsxs)(Un.a,{stickyHeader:!0,"aria-label":"scheduler enqueue events table",size:"small",children:[Object(de.jsx)(Vn.a,{children:Object(de.jsxs)(Mn.a,{children:[Object(de.jsx)(Kn.a,{classes:{stickyHeader:t.stickyHeaderCell},children:"Enqueued"}),Object(de.jsx)(Kn.a,{classes:{stickyHeader:t.stickyHeaderCell},children:"Task ID"})]})}),Object(de.jsx)(Hn.a,{children:c.data.map((function(e){return Object(de.jsxs)(Mn.a,{children:[Object(de.jsx)(Kn.a,{component:"th",scope:"row",children:nn(e.enqueued_at)}),Object(de.jsx)(Kn.a,{children:e.task_id})]},e.task_id)}))})]})})})),gc=Object(p.a)((function(e){return{table:{minWidth:650},noBorder:{border:"none"},fixedCell:{position:"sticky",zIndex:1,left:0,background:e.palette.background.paper},modal:{display:"flex",alignItems:"center",justifyContent:"center"},modalContent:{background:e.palette.background.paper,padding:e.spacing(2),width:"540px",outline:"none",borderRadius:e.shape.borderRadius},eventsTable:{maxHeight:"80vh"}}}));!function(e){e[e.EntryId=0]="EntryId",e[e.Spec=1]="Spec",e[e.Type=2]="Type",e[e.Payload=3]="Payload",e[e.Options=4]="Options",e[e.NextEnqueue=5]="NextEnqueue",e[e.PrevEnqueue=6]="PrevEnqueue",e[e.None=7]="None"}(Oc||(Oc={}));var fc=[{label:"Entry ID",key:"entry_id",sortBy:Oc.EntryId,align:"left"},{label:"Spec",key:"spec",sortBy:Oc.Spec,align:"left"},{label:"Type",key:"type",sortBy:Oc.Type,align:"left"},{label:"Payload",key:"task_payload",sortBy:Oc.Payload,align:"left"},{label:"Options",key:"options",sortBy:Oc.Options,align:"left"},{label:"Next Enqueue",key:"next_enqueue",sortBy:Oc.NextEnqueue,align:"left"},{label:"Prev Enqueue",key:"prev_enqueue",sortBy:Oc.PrevEnqueue,align:"left"},{label:"",key:"show_history",sortBy:Oc.None,align:"left"}];function mc(e,t){var a=Object(Bn.a)(e);return a.sort(t),a}function xc(e){var t=gc(),a=Object(n.useState)(Oc.EntryId),r=Object(Gn.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(or.Asc),o=Object(Gn.a)(i,2),u=o[0],l=o[1],j=Object(n.useState)(""),b=Object(Gn.a)(j,2),p=b[0],O=b[1];return 0===e.entries.length?Object(de.jsxs)(ve.a,{severity:"info",children:[Object(de.jsx)(ke.a,{children:"Info"}),"No entries found at this time."]}):Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)(zn.a,{children:[Object(de.jsxs)(Un.a,{className:t.table,"aria-label":"scheduler entries table",children:[Object(de.jsx)(Vn.a,{children:Object(de.jsx)(Mn.a,{children:fc.map((function(e,a){return Object(de.jsx)(Kn.a,{align:e.align,className:Object(d.default)(0===a&&t.fixedCell),children:Object(de.jsx)(Fn.a,{active:e.sortBy===c,direction:u,onClick:(n=e.sortBy,function(e){if(n===c){var t=u===or.Asc?or.Desc:or.Asc;l(t)}else s(n)}),children:e.label})},e.key);var n}))})}),Object(de.jsx)(Hn.a,{children:mc(e.entries,(function(e,t){var a;switch(c){case Oc.EntryId:if(e.id===t.id)return 0;a=e.id<t.id;break;case Oc.Spec:if(e.spec===t.spec)return 0;a=e.spec<t.spec;break;case Oc.Type:if(e.task_type===t.task_type)return 0;a=e.task_type<t.task_type;break;case Oc.Payload:if(e.task_payload===t.task_payload)return 0;a=e.task_payload<t.task_payload;break;case Oc.Options:if(e.options===t.options)return 0;a=e.options<t.options;break;case Oc.NextEnqueue:if(e.next_enqueue_at===t.next_enqueue_at)return 0;a=e.next_enqueue_at<t.next_enqueue_at;break;case Oc.PrevEnqueue:var n=e.prev_enqueue_at||"",r=t.prev_enqueue_at||"";if(n===r)return 0;a=n<r;break;default:throw"Unexpected order by value: ".concat(c)}return u===or.Asc?a?-1:1:a?1:-1})).map((function(t,a){return Object(de.jsx)(kc,{entry:t,isLastRow:a===e.entries.length-1,onShowHistoryClick:function(){return O(t.id)}},t.id)}))})]}),Object(de.jsx)(Wr.a,{open:""!==p,onClose:function(){return O("")},className:t.modal,children:Object(de.jsxs)("div",{className:t.modalContent,children:[Object(de.jsx)(fe.a,{variant:"h6",gutterBottom:!0,color:"textPrimary",children:"Recent History"}),Object(de.jsx)(hc,{entryId:p})]})})]})})}var vc=Object(p.a)((function(e){return{rowRoot:{"& > *":{borderBottom:"unset"}},noBorder:{border:"none"}}}));function kc(e){var t=e.entry,a=e.isLastRow,n=vc();return Object(de.jsxs)(Mn.a,{className:n.rowRoot,children:[Object(de.jsx)(Kn.a,{component:"th",scope:"row",className:Object(d.default)(a&&n.noBorder),children:t.id}),Object(de.jsx)(Kn.a,{className:Object(d.default)(a&&n.noBorder),children:t.spec}),Object(de.jsx)(Kn.a,{className:Object(d.default)(a&&n.noBorder),children:t.task_type}),Object(de.jsx)(Kn.a,{className:Object(d.default)(a&&n.noBorder),children:Object(de.jsx)(ac,{language:"json",children:on(t.task_payload)})}),Object(de.jsx)(Kn.a,{className:Object(d.default)(a&&n.noBorder),children:Object(de.jsx)(ac,{language:"go",children:t.options.length>0?t.options.join(", "):"No options"})}),Object(de.jsx)(Kn.a,{className:Object(d.default)(a&&n.noBorder),children:an(t.next_enqueue_at)}),Object(de.jsx)(Kn.a,{className:Object(d.default)(a&&n.noBorder),children:t.prev_enqueue_at?nn(t.prev_enqueue_at):"N/A"}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(Qn.a,{title:"See History",children:Object(de.jsx)(T.a,{"aria-label":"expand row",size:"small",onClick:e.onShowHistoryClick,children:Object(de.jsx)(Zr.a,{})})})})]})}var yc=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},heading:{paddingLeft:e.spacing(2),marginBottom:e.spacing(1)}}}));var Sc=Object(o.b)((function(e){return{loading:e.schedulerEntries.loading,error:e.schedulerEntries.error,entries:e.schedulerEntries.data,pollInterval:e.settings.pollInterval}}),{listSchedulerEntriesAsync:function(){return function(){var e=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:cc}),e.prev=1,e.next=4,za();case 4:a=e.sent,t({type:sc,payload:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("listSchedulerEnqueueEventsAsync: ".concat(Za(e.t0))),t({type:ic,error:$a(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.pollInterval,a=e.listSchedulerEntriesAsync,n=yc();return wr(a,t),Object(de.jsx)(Oe.a,{maxWidth:"lg",className:n.container,children:Object(de.jsx)(he.a,{container:!0,spacing:3,children:""===e.error?Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsxs)(ge.a,{className:n.paper,variant:"outlined",children:[Object(de.jsx)(fe.a,{variant:"h6",className:n.heading,children:"Scheduler Entries"}),Object(de.jsx)(xc,{entries:e.entries})]})}):Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsxs)(ve.a,{severity:"error",children:[Object(de.jsx)(ke.a,{children:"Error"}),"Could not retrieve scheduler entries live data \u2014"," ",Object(de.jsx)("strong",{children:"See the logs for details"})]})})})})})),Tc=a(215),_c=a(742),Ec=a(383),Ac=a(353),Cc=a.n(Ac),Rc=a(735),wc=a(211),Ic=a.n(wc),qc=a(65),Nc=a.n(qc),Pc="GET_TASK_INFO_BEGIN",Dc="GET_TASK_INFO_SUCCESS",Lc="GET_TASK_INFO_ERROR",Gc="LIST_ACTIVE_TASKS_BEGIN",Bc="LIST_ACTIVE_TASKS_SUCCESS",Uc="LIST_ACTIVE_TASKS_ERROR",Hc="LIST_PENDING_TASKS_BEGIN",Kc="LIST_PENDING_TASKS_SUCCESS",zc="LIST_PENDING_TASKS_ERROR",Vc="LIST_SCHEDULED_TASKS_BEGIN",Mc="LIST_SCHEDULED_TASKS_SUCCESS",Fc="LIST_SCHEDULED_TASKS_ERROR",Qc="LIST_RETRY_TASKS_BEGIN",Yc="LIST_RETRY_TASKS_SUCCESS",Wc="LIST_RETRY_TASKS_ERROR",Jc="LIST_ARCHIVED_TASKS_BEGIN",Zc="LIST_ARCHIVED_TASKS_SUCCESS",$c="LIST_ARCHIVED_TASKS_ERROR",Xc="LIST_COMPLETED_TASKS_BEGIN",es="LIST_COMPLETED_TASKS_SUCCESS",ts="LIST_COMPLETED_TASKS_ERROR",as="LIST_AGGREGATING_TASKS_BEGIN",ns="LIST_AGGREGATING_TASKS_SUCCESS",rs="LIST_AGGREGATING_TASKS_ERROR",cs="CANCEL_ACTIVE_TASK_BEGIN",ss="CANCEL_ACTIVE_TASK_SUCCESS",is="CANCEL_ACTIVE_TASK_ERROR",os="CANCEL_ALL_ACTIVE_TASKS_BEGIN",us="CANCEL_ALL_ACTIVE_TASKS_SUCCESS",ls="CANCEL_ALL_ACTIVE_TASKS_ERROR",ds="BATCH_CANCEL_ACTIVE_TASKS_BEGIN",js="BATCH_CANCEL_ACTIVE_TASKS_SUCCESS",bs="BATCH_CANCEL_ACTIVE_TASKS_ERROR",ps="RUN_SCHEDULED_TASK_BEGIN",Os="RUN_SCHEDULED_TASK_SUCCESS",hs="RUN_SCHEDULED_TASK_ERROR",gs="RUN_RETRY_TASK_BEGIN",fs="RUN_RETRY_TASK_SUCCESS",ms="RUN_RETRY_TASK_ERROR",xs="RUN_ARCHIVED_TASK_BEGIN",vs="RUN_ARCHIVED_TASK_SUCCESS",ks="RUN_ARCHIVED_TASK_ERROR",ys="DELETE_PENDING_TASK_BEGIN",Ss="DELETE_PENDING_TASK_SUCCESS",Ts="DELETE_PENDING_TASK_ERROR",_s="ARCHIVE_PENDING_TASK_BEGIN",Es="ARCHIVE_PENDING_TASK_SUCCESS",As="ARCHIVE_PENDING_TASK_ERROR",Cs="DELETE_SCHEDULED_TASK_BEGIN",Rs="DELETE_SCHEDULED_TASK_SUCCESS",ws="DELETE_SCHEDULED_TASK_ERROR",Is="ARCHIVE_SCHEDULED_TASK_BEGIN",qs="ARCHIVE_SCHEDULED_TASK_SUCCESS",Ns="ARCHIVE_SCHEDULED_TASK_ERROR",Ps="ARCHIVE_RETRY_TASK_BEGIN",Ds="ARCHIVE_RETRY_TASK_SUCCESS",Ls="ARCHIVE_RETRY_TASK_ERROR",Gs="RUN_AGGREGATING_TASK_BEGIN",Bs="RUN_AGGREGATING_TASK_SUCCESS",Us="RUN_AGGREGATING_TASK_ERROR",Hs="DELETE_AGGREGATING_TASK_BEGIN",Ks="DELETE_AGGREGATING_TASK_SUCCESS",zs="DELETE_AGGREGATING_TASK_ERROR",Vs="ARCHIVE_AGGREGATING_TASK_BEGIN",Ms="ARCHIVE_AGGREGATING_TASK_SUCCESS",Fs="ARCHIVE_AGGREGATING_TASK_ERROR",Qs="BATCH_ARCHIVE_PENDING_TASKS_BEGIN",Ys="BATCH_ARCHIVE_PENDING_TASKS_SUCCESS",Ws="BATCH_RUN_PENDING_TASKS_ERROR",Js="BATCH_DELETE_PENDING_TASKS_BEGIN",Zs="BATCH_DELETE_PENDING_TASKS_SUCCESS",$s="BATCH_DELETE_PENDING_TASKS_ERROR",Xs="DELETE_ALL_PENDING_TASKS_BEGIN",ei="DELETE_ALL_PENDING_TASKS_SUCCESS",ti="DELETE_ALL_PENDING_TASKS_ERROR",ai="ARCHIVE_ALL_PENDING_TASKS_BEGIN",ni="ARCHIVE_ALL_PENDING_TASKS_SUCCESS",ri="ARCHIVE_ALL_PENDING_TASKS_ERROR",ci="BATCH_RUN_SCHEDULED_TASKS_BEGIN",si="BATCH_RUN_SCHEDULED_TASKS_SUCCESS",ii="BATCH_RUN_SCHEDULED_TASKS_ERROR",oi="BATCH_ARCHIVE_SCHEDULED_TASKS_BEGIN",ui="BATCH_ARCHIVE_SCHEDULED_TASKS_SUCCESS",li="BATCH_RUN_SCHEDULED_TASKS_ERROR",di="BATCH_DELETE_SCHEDULED_TASKS_BEGIN",ji="BATCH_DELETE_SCHEDULED_TASKS_SUCCESS",bi="BATCH_DELETE_SCHEDULED_TASKS_ERROR",pi="RUN_ALL_SCHEDULED_TASKS_BEGIN",Oi="RUN_ALL_SCHEDULED_TASKS_SUCCESS",hi="RUN_ALL_SCHEDULED_TASKS_ERROR",gi="ARCHIVE_ALL_SCHEDULED_TASKS_BEGIN",fi="ARCHIVE_ALL_SCHEDULED_TASKS_SUCCESS",mi="ARCHIVE_ALL_SCHEDULED_TASKS_ERROR",xi="DELETE_ALL_SCHEDULED_TASKS_BEGIN",vi="DELETE_ALL_SCHEDULED_TASKS_SUCCESS",ki="DELETE_ALL_SCHEDULED_TASKS_ERROR",yi="DELETE_RETRY_TASK_BEGIN",Si="DELETE_RETRY_TASK_SUCCESS",Ti="DELETE_RETRY_TASK_ERROR",_i="BATCH_RUN_RETRY_TASKS_BEGIN",Ei="BATCH_RUN_RETRY_TASKS_SUCCESS",Ai="BATCH_RUN_RETRY_TASKS_ERROR",Ci="BATCH_ARCHIVE_RETRY_TASKS_BEGIN",Ri="BATCH_ARCHIVE_RETRY_TASKS_SUCCESS",wi="BATCH_ARCHIVE_RETRY_TASKS_ERROR",Ii="BATCH_DELETE_RETRY_TASKS_BEGIN",qi="BATCH_DELETE_RETRY_TASKS_SUCCESS",Ni="BATCH_DELETE_RETRY_TASKS_ERROR",Pi="RUN_ALL_RETRY_TASKS_BEGIN",Di="RUN_ALL_RETRY_TASKS_SUCCESS",Li="RUN_ALL_RETRY_TASKS_ERROR",Gi="ARCHIVE_ALL_RETRY_TASKS_BEGIN",Bi="ARCHIVE_ALL_RETRY_TASKS_SUCCESS",Ui="ARCHIVE_ALL_RETRY_TASKS_ERROR",Hi="DELETE_ALL_RETRY_TASKS_BEGIN",Ki="DELETE_ALL_RETRY_TASKS_SUCCESS",zi="DELETE_ALL_RETRY_TASKS_ERROR",Vi="DELETE_ARCHIVED_TASK_BEGIN",Mi="DELETE_ARCHIVED_TASK_SUCCESS",Fi="DELETE_ARCHIVED_TASK_ERROR",Qi="BATCH_RUN_ARCHIVED_TASKS_BEGIN",Yi="BATCH_RUN_ARCHIVED_TASKS_SUCCESS",Wi="BATCH_RUN_ARCHIVED_TASKS_ERROR",Ji="BATCH_DELETE_ARCHIVED_TASKS_BEGIN",Zi="BATCH_DELETE_ARCHIVED_TASKS_SUCCESS",$i="BATCH_DELETE_ARCHIVED_TASKS_ERROR",Xi="RUN_ALL_ARCHIVED_TASKS_BEGIN",eo="RUN_ALL_ARCHIVED_TASKS_SUCCESS",to="RUN_ALL_ARCHIVED_TASKS_ERROR",ao="DELETE_ALL_ARCHIVED_TASKS_BEGIN",no="DELETE_ALL_ARCHIVED_TASKS_SUCCESS",ro="DELETE_ALL_ARCHIVED_TASKS_ERROR",co="DELETE_COMPLETED_TASK_BEGIN",so="DELETE_COMPLETED_TASK_SUCCESS",io="DELETE_COMPLETED_TASK_ERROR",oo="DELETE_ALL_COMPLETED_TASKS_BEGIN",uo="DELETE_ALL_COMPLETED_TASKS_SUCCESS",lo="DELETE_ALL_COMPLETED_TASKS_ERROR",jo="BATCH_DELETE_COMPLETED_TASKS_BEGIN",bo="BATCH_DELETE_COMPLETED_TASKS_SUCCESS",po="BATCH_DELETE_COMPLETED_TASKS_ERROR",Oo="BATCH_RUN_AGGREGATING_TASKS_BEGIN",ho="BATCH_RUN_AGGREGATING_TASKS_SUCCESS",go="BATCH_RUN_AGGREGATING_TASKS_ERROR",fo="BATCH_ARCHIVE_AGGREGATING_TASKS_BEGIN",mo="BATCH_ARCHIVE_AGGREGATING_TASKS_SUCCESS",xo="BATCH_RUN_AGGREGATING_TASKS_ERROR",vo="BATCH_DELETE_AGGREGATING_TASKS_BEGIN",ko="BATCH_DELETE_AGGREGATING_TASKS_SUCCESS",yo="BATCH_DELETE_AGGREGATING_TASKS_ERROR",So="RUN_ALL_AGGREGATING_TASKS_BEGIN",To="RUN_ALL_AGGREGATING_TASKS_SUCCESS",_o="RUN_ALL_AGGREGATING_TASKS_ERROR",Eo="ARCHIVE_ALL_AGGREGATING_TASKS_BEGIN",Ao="ARCHIVE_ALL_AGGREGATING_TASKS_SUCCESS",Co="ARCHIVE_ALL_AGGREGATING_TASKS_ERROR",Ro="DELETE_ALL_AGGREGATING_TASKS_BEGIN",wo="DELETE_ALL_AGGREGATING_TASKS_SUCCESS",Io="DELETE_ALL_AGGREGATING_TASKS_ERROR";var qo=a(711),No=a(736),Po=a(90),Do=a.n(Po),Lo=a(89),Go=a.n(Lo),Bo=a(352),Uo=Object(p.a)((function(e){return{actionsContainer:{display:"flex",padding:"4px"},moreIcon:{marginRight:"8px"},iconGroup:{paddingLeft:e.spacing(1),borderLeft:"1px solid ".concat(e.palette.grey[100])}}}));function Ho(e){var t=Uo(),a=Object(n.useState)(null),r=Object(Gn.a)(a,2),c=r[0],s=r[1],i=function(){return s(null)};return Object(de.jsxs)("div",{className:t.actionsContainer,children:[Object(de.jsx)(Qn.a,{title:"More Actions",children:Object(de.jsx)(T.a,{"aria-label":"actions",className:t.moreIcon,onClick:function(e){s(e.currentTarget)},children:Object(de.jsx)(tr.a,{})})}),Object(de.jsx)(Bo.a,{id:"action-menu",keepMounted:!0,anchorEl:c,open:Boolean(c),onClose:i,children:e.menuItemActions.map((function(e){return Object(de.jsx)(Er.a,{onClick:function(){e.onClick(),i()},disabled:e.disabled,children:e.label},e.label)}))}),e.showIconButtons&&Object(de.jsx)("div",{className:t.iconGroup,children:e.iconButtonActions.map((function(e){return Object(de.jsx)(Qn.a,{title:e.tooltip,children:Object(de.jsx)(T.a,{onClick:e.onClick,disabled:e.disabled,children:e.icon})},e.tooltip)}))})]})}var Ko=Object(p.a)((function(e){return{table:{minWidth:650},stickyHeaderCell:{background:e.palette.background.paper},alert:{borderTopLeftRadius:0,borderTopRightRadius:0},pagination:{border:"none"}}}));function zo(e){var t=e.pollInterval,a=e.listTasks,r=e.queue,c=e.pageSize,s=Ko(),i=Object(n.useState)(0),o=Object(Gn.a)(i,2),u=o[0],l=o[1],d=Object(n.useState)([]),j=Object(Gn.a)(d,2),b=j[0],p=j[1],O=Object(n.useState)(""),h=Object(Gn.a)(O,2),g=h[0],f=h[1];function m(e){return function(){return e(r)}}function x(e){return function(){return e(r,b).then((function(){return p([])}))}}function v(e,t){return function(){return e(r,t)}}var k=[];e.deleteAllTasks&&k.push({label:"Delete All",onClick:m(e.deleteAllTasks),disabled:e.allActionPending}),e.archiveAllTasks&&k.push({label:"Archive All",onClick:m(e.archiveAllTasks),disabled:e.allActionPending}),e.runAllTasks&&k.push({label:"Run All",onClick:m(e.runAllTasks),disabled:e.allActionPending}),e.cancelAllTasks&&k.push({label:"Cancel All",onClick:m(e.cancelAllTasks),disabled:e.allActionPending});var y=[];if(e.batchDeleteTasks&&y.push({tooltip:"Delete",icon:Object(de.jsx)(Xn.a,{}),disabled:e.batchActionPending,onClick:x(e.batchDeleteTasks)}),e.batchArchiveTasks&&y.push({tooltip:"Archive",icon:Object(de.jsx)(Go.a,{}),disabled:e.batchActionPending,onClick:x(e.batchArchiveTasks)}),e.batchRunTasks&&y.push({tooltip:"Run",icon:Object(de.jsx)(Do.a,{}),disabled:e.batchActionPending,onClick:x(e.batchRunTasks)}),e.batchCancelTasks&&y.push({tooltip:"Cancel",icon:Object(de.jsx)(Ic.a,{}),disabled:e.batchActionPending,onClick:x(e.batchCancelTasks)}),wr(Object(n.useCallback)((function(){a(r,{page:u+1,size:c})}),[u,c,r,a]),t),e.error.length>0)return Object(de.jsxs)(ve.a,{severity:"error",className:s.alert,children:[Object(de.jsx)(ke.a,{children:"Error"}),e.error]});if(0===e.tasks.length)return Object(de.jsxs)(ve.a,{severity:"info",className:s.alert,children:[Object(de.jsx)(ke.a,{children:"Info"}),"aggregating"===e.taskState?Object(de.jsx)("div",{children:"Selected group is empty."}):Object(de.jsxs)("div",{children:["No ",e.taskState," tasks at this time."]})]});var S=e.tasks.length,_=b.length;return Object(de.jsxs)("div",{children:[!window.READ_ONLY&&Object(de.jsx)(Ho,{showIconButtons:_>0,iconButtonActions:y,menuItemActions:k}),Object(de.jsx)(zn.a,{component:ge.a,children:Object(de.jsxs)(Un.a,{stickyHeader:!0,className:s.table,"aria-label":"".concat(e.taskState," tasks table"),size:"small",children:[Object(de.jsx)(Vn.a,{children:Object(de.jsxs)(Mn.a,{children:[!window.READ_ONLY&&Object(de.jsx)(Kn.a,{padding:"checkbox",classes:{stickyHeader:s.stickyHeaderCell},children:Object(de.jsx)(T.a,{children:Object(de.jsx)(Rc.a,{indeterminate:_>0&&_<S,checked:S>0&&_===S,onChange:function(t){if(t.target.checked){var a=e.tasks.map((function(e){return e.id}));p(a)}else p([])},inputProps:{"aria-label":"select all tasks shown in the table"}})})}),e.columns.filter((function(e){return!window.READ_ONLY||"actions"!==e.key})).map((function(e){return Object(de.jsx)(Kn.a,{align:e.align,classes:{stickyHeader:s.stickyHeaderCell},children:e.label},e.label)}))]})}),Object(de.jsx)(Hn.a,{children:e.tasks.map((function(t){return e.renderRow({key:t.id,task:t,allActionPending:e.allActionPending,isSelected:b.includes(t.id),onSelectChange:function(e){p(e?b.concat(t.id):b.filter((function(e){return e!==t.id})))},onRunClick:e.runTask?v(e.runTask,t.id):void 0,onDeleteClick:e.deleteTask?v(e.deleteTask,t.id):void 0,onArchiveClick:e.archiveTask?v(e.archiveTask,t.id):void 0,onCancelClick:e.cancelTask?v(e.cancelTask,t.id):void 0,onActionCellEnter:function(){return f(t.id)},onActionCellLeave:function(){return f("")},showActions:g===t.id})}))}),Object(de.jsx)(qo.a,{children:Object(de.jsx)(Mn.a,{children:Object(de.jsx)(No.a,{rowsPerPageOptions:pe,colSpan:e.columns.length+1,count:e.totalTaskCount,rowsPerPage:c,page:u,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,t){l(t)},onRowsPerPageChange:function(t){e.taskRowsPerPageChange(parseInt(t.target.value,10)),l(0)},ActionsComponent:be,className:s.pagination})})})]})})]})}var Vo=Object(p.a)((function(e){return{root:{cursor:"pointer","& #copy-button":{display:"none"},"&:hover":{boxShadow:e.shadows[2],"& #copy-button":{display:"inline-block"}},"&:hover $copyButton":{display:"inline-block"},"&:hover .MuiTableCell-root":{borderBottomColor:e.palette.background.paper}},actionCell:{width:"140px"},actionButton:{marginLeft:3,marginRight:3},idCell:{width:"200px"},copyButton:{display:"none"},IdGroup:{display:"flex",alignItems:"center"}}}));var Mo={listTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Gc,queue:e}),a.prev=1,a.next=4,Me(e,t);case 4:r=a.sent,n({type:Bc,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("listActiveTasksAsync: ",Za(a.t0)),n({type:Uc,queue:e,error:$a(a.t0)});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},cancelTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:cs,queue:e,taskId:t}),a.prev=1,a.next=4,Qe(e,t);case 4:n({type:ss,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("cancelActiveTaskAsync: ",Za(a.t0)),n({type:is,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},batchCancelTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:ds,queue:e,taskIds:t}),a.prev=1,a.next=4,Ze(e,t);case 4:r=a.sent,n({type:js,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchCancelActiveTasksAsync: ",Za(a.t0)),n({type:bs,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},cancelAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:os,queue:e}),t.prev=1,t.next=4,We(e);case 4:a({type:us,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("cancelAllActiveTasksAsync: ",Za(t.t0)),a({type:ls,error:$a(t.t0),queue:e});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},taskRowsPerPageChange:ee},Fo=[{key:"id",label:"ID",align:"left"},{key:"type",label:"Type",align:"left"},{key:"payload",label:"Payload",align:"left"},{key:"status",label:"Status",align:"left"},{key:"start-time",label:"Started",align:"left"},{key:"deadline",label:"Deadline",align:"left"},{key:"actions",label:"Actions",align:"center"}];function Qo(e){var t=e.task,a=Vo(),n=Object(b.f)();return Object(de.jsxs)(Mn.a,{className:a.root,selected:e.isSelected,onClick:function(){return n.push(Q(t.queue,t.id))},children:[!window.READ_ONLY&&Object(de.jsx)(Kn.a,{padding:"checkbox",onClick:function(e){return e.stopPropagation()},children:Object(de.jsx)(T.a,{children:Object(de.jsx)(Rc.a,{onChange:function(t){return e.onSelectChange(t.target.checked)},checked:e.isSelected})})}),Object(de.jsx)(Kn.a,{component:"th",scope:"row",className:a.idCell,children:Object(de.jsxs)("div",{className:a.IdGroup,children:[cn(t.id),Object(de.jsx)(Qn.a,{title:"Copy full ID to clipboard",children:Object(de.jsx)(T.a,{onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(t.id)},size:"small",className:a.copyButton,children:Object(de.jsx)(Nc.a,{fontSize:"small"})})})]})}),Object(de.jsx)(Kn.a,{children:t.type}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(t.payload)})}),Object(de.jsx)(Kn.a,{children:t.canceling?"Canceling":t.is_orphaned?"Orphaned":"Running"}),Object(de.jsx)(Kn.a,{children:t.is_orphaned?"-":"-"===t.start_time?"just now":nn(t.start_time)}),Object(de.jsx)(Kn.a,{children:"-"===t.deadline?"-":an(t.deadline)}),!window.READ_ONLY&&Object(de.jsx)(Kn.a,{align:"center",onMouseEnter:e.onActionCellEnter,onMouseLeave:e.onActionCellLeave,onClick:function(e){return e.stopPropagation()},children:e.showActions?Object(de.jsx)(r.a.Fragment,{children:Object(de.jsx)(Qn.a,{title:"Cancel",children:Object(de.jsx)(T.a,{onClick:e.onCancelClick,disabled:t.requestPending||t.canceling||t.is_orphaned,size:"small",children:Object(de.jsx)(Ic.a,{fontSize:"small"})})})}):Object(de.jsx)(T.a,{size:"small",onClick:e.onActionCellEnter,children:Object(de.jsx)(tr.a,{fontSize:"small"})})})]},t.id)}var Yo=Object(o.b)((function(e){return{loading:e.tasks.activeTasks.loading,error:e.tasks.activeTasks.error,tasks:e.tasks.activeTasks.data,batchActionPending:e.tasks.activeTasks.batchActionPending,allActionPending:e.tasks.activeTasks.allActionPending,pollInterval:e.settings.pollInterval,pageSize:e.settings.taskRowsPerPage}}),Mo)((function(e){return Object(de.jsx)(zo,Object(l.a)({taskState:"active",columns:Fo,renderRow:function(e){return Object(de.jsx)(Qo,Object(l.a)({},e))}},e))}));var Wo={listTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Hc,queue:e}),a.prev=1,a.next=4,Xe(e,t);case 4:r=a.sent,n({type:Kc,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("listPendingTasksAsync: ",Za(a.t0)),n({type:zc,queue:e,error:$a(a.t0)});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},deleteTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:ys,queue:e,taskId:t}),a.prev=1,a.next=4,gt(e,t);case 4:n({type:Ss,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("deletePendingTaskAsync: ",Za(a.t0)),n({type:Ts,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},batchDeleteTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Js,queue:e,taskIds:t}),a.prev=1,a.next=4,mt(e,t);case 4:r=a.sent,n({type:Zs,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchDeletePendingTasksAsync: ",Za(a.t0)),n({type:$s,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},deleteAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){var n;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Xs,queue:e}),t.prev=1,t.next=4,vt(e);case 4:n=t.sent,a({type:ei,deleted:n.deleted,queue:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("deleteAllPendingTasksAsync: ",Za(t.t0)),a({type:ti,error:$a(t.t0),queue:e});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},archiveTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:_s,queue:e,taskId:t}),a.prev=1,a.next=4,dt(e,t);case 4:n({type:Es,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("archivePendingTaskAsync: ",Za(a.t0)),n({type:As,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},batchArchiveTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Qs,queue:e,taskIds:t}),a.prev=1,a.next=4,bt(e,t);case 4:r=a.sent,n({type:Ys,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchArchivePendingTasksAsync: ",Za(a.t0)),n({type:Ws,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},archiveAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ai,queue:e}),t.prev=1,t.next=4,Ot(e);case 4:a({type:ni,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("archiveAllPendingTasksAsync: ",Za(t.t0)),a({type:ri,error:$a(t.t0),queue:e});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},taskRowsPerPageChange:ee},Jo=Object(o.b)((function(e){return{loading:e.tasks.pendingTasks.loading,error:e.tasks.pendingTasks.error,tasks:e.tasks.pendingTasks.data,batchActionPending:e.tasks.pendingTasks.batchActionPending,allActionPending:e.tasks.pendingTasks.allActionPending,pollInterval:e.settings.pollInterval,pageSize:e.settings.taskRowsPerPage}}),Wo),Zo=[{key:"id",label:"ID",align:"left"},{key:"type",label:"Type",align:"left"},{key:"paylod",label:"Payload",align:"left"},{key:"retried",label:"Retried",align:"right"},{key:"max_retry",label:"Max Retry",align:"right"},{key:"actions",label:"Actions",align:"center"}];function $o(e){var t=e.task,a=Vo(),n=Object(b.f)();return Object(de.jsxs)(Mn.a,{className:a.root,selected:e.isSelected,onClick:function(){return n.push(Q(t.queue,t.id))},children:[!window.READ_ONLY&&Object(de.jsx)(Kn.a,{padding:"checkbox",onClick:function(e){return e.stopPropagation()},children:Object(de.jsx)(T.a,{children:Object(de.jsx)(Rc.a,{onChange:function(t){return e.onSelectChange(t.target.checked)},checked:e.isSelected})})}),Object(de.jsx)(Kn.a,{component:"th",scope:"row",className:a.idCell,children:Object(de.jsxs)("div",{className:a.IdGroup,children:[cn(t.id),Object(de.jsx)(Qn.a,{title:"Copy full ID to clipboard",children:Object(de.jsx)(T.a,{onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(t.id)},size:"small",className:a.copyButton,children:Object(de.jsx)(Nc.a,{fontSize:"small"})})})]})}),Object(de.jsx)(Kn.a,{children:t.type}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(t.payload)})}),Object(de.jsx)(Kn.a,{align:"right",children:t.retried}),Object(de.jsx)(Kn.a,{align:"right",children:t.max_retry}),!window.READ_ONLY&&Object(de.jsx)(Kn.a,{align:"center",className:a.actionCell,onMouseEnter:e.onActionCellEnter,onMouseLeave:e.onActionCellLeave,onClick:function(e){return e.stopPropagation()},children:e.showActions?Object(de.jsxs)(r.a.Fragment,{children:[Object(de.jsx)(Qn.a,{title:"Delete",children:Object(de.jsx)(T.a,{onClick:e.onDeleteClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Xn.a,{fontSize:"small"})})}),Object(de.jsx)(Qn.a,{title:"Archive",children:Object(de.jsx)(T.a,{onClick:e.onArchiveClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Go.a,{fontSize:"small"})})})]}):Object(de.jsx)(T.a,{size:"small",onClick:e.onActionCellEnter,children:Object(de.jsx)(tr.a,{fontSize:"small"})})})]},t.id)}var Xo=Jo((function(e){return Object(de.jsx)(zo,Object(l.a)({taskState:"pending",columns:Zo,renderRow:function(e){return Object(de.jsx)($o,Object(l.a)({},e))}},e))}));var eu={listTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Vc,queue:e}),a.prev=1,a.next=4,tt(e,t);case 4:r=a.sent,n({type:Mc,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("listScheduledTasksAsync: ",Za(a.t0)),n({type:Fc,queue:e,error:$a(a.t0)});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},batchDeleteTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:di,queue:e,taskIds:t}),a.prev=1,a.next=4,Qt(e,t);case 4:r=a.sent,n({type:ji,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchDeleteScheduledTasksAsync: ",Za(a.t0)),n({type:bi,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},batchRunTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:ci,queue:e,taskIds:t}),a.prev=1,a.next=4,Zt(e,t);case 4:r=a.sent,n({type:si,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchRunScheduledTasksAsync: ",Za(a.t0)),n({type:ii,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},batchArchiveTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:oi,queue:e,taskIds:t}),a.prev=1,a.next=4,ta(e,t);case 4:r=a.sent,n({type:ui,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchArchiveScheduledTasksAsync: ",Za(a.t0)),n({type:li,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},deleteAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){var n;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:xi,queue:e}),t.prev=1,t.next=4,Wt(e);case 4:n=t.sent,a({type:vi,deleted:n.deleted,queue:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("deleteAllScheduledTasksAsync: ",Za(t.t0)),a({type:ki,error:$a(t.t0),queue:e});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},runAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:pi,queue:e}),t.prev=1,t.next=4,Xt(e);case 4:a({type:Oi,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("runAllScheduledTasksAsync: ",Za(t.t0)),a({type:hi,error:$a(t.t0),queue:e});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},archiveAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:gi,queue:e}),t.prev=1,t.next=4,na(e);case 4:a({type:fi,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("archiveAllScheduledTasksAsync: ",Za(t.t0)),a({type:mi,error:$a(t.t0),queue:e});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Cs,queue:e,taskId:t}),a.prev=1,a.next=4,Mt(e,t);case 4:n({type:Rs,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("deleteScheduledTaskAsync: ",Za(a.t0)),n({type:ws,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},runTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:ps,queue:e,taskId:t}),a.prev=1,a.next=4,Ht(e,t);case 4:n({type:Os,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("runScheduledTaskAsync: ",Za(a.t0)),n({type:hs,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},archiveTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Is,queue:e,taskId:t}),a.prev=1,a.next=4,zt(e,t);case 4:n({type:qs,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("archiveScheduledTaskAsync: ",Za(a.t0)),n({type:Ns,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},taskRowsPerPageChange:ee},tu=Object(o.b)((function(e){return{loading:e.tasks.scheduledTasks.loading,error:e.tasks.scheduledTasks.error,tasks:e.tasks.scheduledTasks.data,batchActionPending:e.tasks.scheduledTasks.batchActionPending,allActionPending:e.tasks.scheduledTasks.allActionPending,pollInterval:e.settings.pollInterval,pageSize:e.settings.taskRowsPerPage}}),eu),au=[{key:"id",label:"ID",align:"left"},{key:"type",label:"Type",align:"left"},{key:"payload",label:"Payload",align:"left"},{key:"process_in",label:"Process In",align:"left"},{key:"actions",label:"Actions",align:"center"}];function nu(e){var t=e.task,a=Vo(),n=Object(b.f)();return Object(de.jsxs)(Mn.a,{className:a.root,selected:e.isSelected,onClick:function(){return n.push(Q(t.queue,t.id))},children:[!window.READ_ONLY&&Object(de.jsx)(Kn.a,{padding:"checkbox",onClick:function(e){return e.stopPropagation()},children:Object(de.jsx)(T.a,{children:Object(de.jsx)(Rc.a,{onChange:function(t){return e.onSelectChange(t.target.checked)},checked:e.isSelected})})}),Object(de.jsx)(Kn.a,{component:"th",scope:"row",className:a.idCell,children:Object(de.jsxs)("div",{className:a.IdGroup,children:[cn(t.id),Object(de.jsx)(Qn.a,{title:"Copy full ID to clipboard",children:Object(de.jsx)(T.a,{onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(t.id)},size:"small",className:a.copyButton,children:Object(de.jsx)(Nc.a,{fontSize:"small"})})})]})}),Object(de.jsx)(Kn.a,{children:t.type}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(t.payload)})}),Object(de.jsx)(Kn.a,{children:an(t.next_process_at)}),!window.READ_ONLY&&Object(de.jsx)(Kn.a,{align:"center",className:a.actionCell,onMouseEnter:e.onActionCellEnter,onMouseLeave:e.onActionCellLeave,onClick:function(e){return e.stopPropagation()},children:e.showActions?Object(de.jsxs)(r.a.Fragment,{children:[Object(de.jsx)(Qn.a,{title:"Delete",children:Object(de.jsx)(T.a,{onClick:e.onDeleteClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Xn.a,{fontSize:"small"})})}),Object(de.jsx)(Qn.a,{title:"Archive",children:Object(de.jsx)(T.a,{onClick:e.onArchiveClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Go.a,{fontSize:"small"})})}),Object(de.jsx)(Qn.a,{title:"Run",children:Object(de.jsx)(T.a,{onClick:e.onRunClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Do.a,{fontSize:"small"})})})]}):Object(de.jsx)(T.a,{size:"small",onClick:e.onActionCellEnter,children:Object(de.jsx)(tr.a,{fontSize:"small"})})})]},t.id)}var ru=tu((function(e){return Object(de.jsx)(zo,Object(l.a)({taskState:"scheduled",columns:au,renderRow:function(e){return Object(de.jsx)(nu,Object(l.a)({},e))}},e))}));var cu={batchDeleteTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Ii,queue:e,taskIds:t}),a.prev=1,a.next=4,da(e,t);case 4:r=a.sent,n({type:qi,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchDeleteRetryTasksAsync: ",Za(a.t0)),n({type:Ni,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},batchRunTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:_i,queue:e,taskIds:t}),a.prev=1,a.next=4,Oa(e,t);case 4:r=a.sent,n({type:Ei,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchRunRetryTasksAsync: ",Za(a.t0)),n({type:Ai,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},batchArchiveTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Ci,queue:e,taskIds:t}),a.prev=1,a.next=4,ma(e,t);case 4:r=a.sent,n({type:Ri,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchArchiveRetryTasksAsync: ",Za(a.t0)),n({type:wi,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},deleteAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){var n;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Hi,queue:e}),t.prev=1,t.next=4,ba(e);case 4:n=t.sent,a({type:Ki,deleted:n.deleted,queue:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("deleteAllRetryTasksAsync: ",Za(t.t0)),a({type:zi,error:$a(t.t0),queue:e});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},runAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Pi,queue:e}),t.prev=1,t.next=4,ga(e);case 4:a({type:Di,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("runAllRetryTasksAsync: ",Za(t.t0)),a({type:Li,error:$a(t.t0),queue:e});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},archiveAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Gi,queue:e}),t.prev=1,t.next=4,va(e);case 4:a({type:Bi,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("archiveAllRetryTasksAsync: ",Za(t.t0)),a({type:Ui,error:$a(t.t0),queue:e});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},listTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Qc,queue:e}),a.prev=1,a.next=4,nt(e,t);case 4:r=a.sent,n({type:Yc,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("listRetryTasksAsync: ",Za(a.t0)),n({type:Wc,queue:e,error:$a(a.t0)});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},deleteTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:yi,queue:e,taskId:t}),a.prev=1,a.next=4,ua(e,t);case 4:n({type:Si,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("deleteRetryTaskAsync: ",Za(a.t0)),n({type:Ti,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},runTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:gs,queue:e,taskId:t}),a.prev=1,a.next=4,ca(e,t);case 4:n({type:fs,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("runRetryTaskAsync: ",Za(a.t0)),n({type:ms,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},archiveTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Ps,queue:e,taskId:t}),a.prev=1,a.next=4,ia(e,t);case 4:n({type:Ds,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("archiveRetryTaskAsync: ",Za(a.t0)),n({type:Ls,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},taskRowsPerPageChange:ee},su=Object(o.b)((function(e){return{loading:e.tasks.retryTasks.loading,error:e.tasks.retryTasks.error,tasks:e.tasks.retryTasks.data,batchActionPending:e.tasks.retryTasks.batchActionPending,allActionPending:e.tasks.retryTasks.allActionPending,pollInterval:e.settings.pollInterval,pageSize:e.settings.taskRowsPerPage}}),cu),iu=[{key:"id",label:"ID",align:"left"},{key:"type",label:"Type",align:"left"},{key:"payload",label:"Payload",align:"left"},{key:"retry_in",label:"Retry In",align:"left"},{key:"last_error",label:"Last Error",align:"left"},{key:"retried",label:"Retried",align:"right"},{key:"max_retry",label:"Max Retry",align:"right"},{key:"actions",label:"Actions",align:"center"}];function ou(e){var t=e.task,a=Vo(),n=Object(b.f)();return Object(de.jsxs)(Mn.a,{className:a.root,selected:e.isSelected,onClick:function(){return n.push(Q(t.queue,t.id))},children:[!window.READ_ONLY&&Object(de.jsx)(Kn.a,{padding:"checkbox",onClick:function(e){return e.stopPropagation()},children:Object(de.jsx)(T.a,{children:Object(de.jsx)(Rc.a,{onChange:function(t){return e.onSelectChange(t.target.checked)},checked:e.isSelected})})}),Object(de.jsx)(Kn.a,{component:"th",scope:"row",className:a.idCell,children:Object(de.jsxs)("div",{className:a.IdGroup,children:[cn(t.id),Object(de.jsx)(Qn.a,{title:"Copy full ID to clipboard",children:Object(de.jsx)(T.a,{onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(t.id)},size:"small",className:a.copyButton,children:Object(de.jsx)(Nc.a,{fontSize:"small"})})})]})}),Object(de.jsx)(Kn.a,{children:t.type}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(t.payload)})}),Object(de.jsx)(Kn.a,{children:an(t.next_process_at)}),Object(de.jsx)(Kn.a,{children:t.error_message}),Object(de.jsx)(Kn.a,{align:"right",children:t.retried}),Object(de.jsx)(Kn.a,{align:"right",children:t.max_retry}),!window.READ_ONLY&&Object(de.jsx)(Kn.a,{align:"center",className:a.actionCell,onMouseEnter:e.onActionCellEnter,onMouseLeave:e.onActionCellLeave,onClick:function(e){return e.stopPropagation()},children:e.showActions?Object(de.jsxs)(r.a.Fragment,{children:[Object(de.jsx)(Qn.a,{title:"Delete",children:Object(de.jsx)(T.a,{onClick:e.onDeleteClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Xn.a,{fontSize:"small"})})}),Object(de.jsx)(Qn.a,{title:"Archive",children:Object(de.jsx)(T.a,{onClick:e.onArchiveClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Go.a,{fontSize:"small"})})}),Object(de.jsx)(Qn.a,{title:"Run",children:Object(de.jsx)(T.a,{onClick:e.onRunClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Do.a,{fontSize:"small"})})})]}):Object(de.jsx)(T.a,{size:"small",onClick:e.onActionCellEnter,children:Object(de.jsx)(tr.a,{fontSize:"small"})})})]},t.id)}var uu=su((function(e){return Object(de.jsx)(zo,Object(l.a)({taskState:"retry",columns:iu,renderRow:function(e){return Object(de.jsx)(ou,Object(l.a)({},e))}},e))}));var lu={listTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Jc,queue:e}),a.prev=1,a.next=4,ct(e,t);case 4:r=a.sent,n({type:Zc,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("listArchivedTasksAsync: ",Za(a.t0)),n({type:$c,queue:e,error:$a(a.t0)});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},runTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:xs,queue:e,taskId:t}),a.prev=1,a.next=4,ya(e,t);case 4:n({type:vs,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("runArchivedTaskAsync: ",Za(a.t0)),n({type:ks,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},runAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Xi,queue:e}),t.prev=1,t.next=4,qa(e);case 4:a({type:eo,queue:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("runAllArchivedTasksAsync: ",Za(t.t0)),a({type:to,error:$a(t.t0),queue:e});case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Vi,queue:e,taskId:t}),a.prev=1,a.next=4,Ta(e,t);case 4:n({type:Mi,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("deleteArchivedTaskAsync: ",Za(a.t0)),n({type:Fi,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},deleteAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){var n;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ao,queue:e}),t.prev=1,t.next=4,Ca(e);case 4:n=t.sent,a({type:no,deleted:n.deleted,queue:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("deleteAllArchivedTasksAsync: ",Za(t.t0)),a({type:ro,error:$a(t.t0),queue:e});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},batchRunTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Qi,queue:e,taskIds:t}),a.prev=1,a.next=4,wa(e,t);case 4:r=a.sent,n({type:Yi,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchRunArchivedTasksAsync: ",Za(a.t0)),n({type:Wi,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},batchDeleteTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Ji,queue:e,taskIds:t}),a.prev=1,a.next=4,Ea(e,t);case 4:r=a.sent,n({type:Zi,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchDeleteArchivedTasksAsync: ",Za(a.t0)),n({type:$i,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},taskRowsPerPageChange:ee},du=Object(o.b)((function(e){return{loading:e.tasks.archivedTasks.loading,error:e.tasks.archivedTasks.error,tasks:e.tasks.archivedTasks.data,batchActionPending:e.tasks.archivedTasks.batchActionPending,allActionPending:e.tasks.archivedTasks.allActionPending,pollInterval:e.settings.pollInterval,pageSize:e.settings.taskRowsPerPage}}),lu),ju=[{key:"id",label:"ID",align:"left"},{key:"type",label:"Type",align:"left"},{key:"payload",label:"Payload",align:"left"},{key:"last_failed",label:"Last Failed",align:"left"},{key:"last_error",label:"Last Error",align:"left"},{key:"actions",label:"Actions",align:"center"}];function bu(e){var t=e.task,a=Vo(),n=Object(b.f)();return Object(de.jsxs)(Mn.a,{className:a.root,selected:e.isSelected,onClick:function(){return n.push(Q(t.queue,t.id))},children:[!window.READ_ONLY&&Object(de.jsx)(Kn.a,{padding:"checkbox",onClick:function(e){return e.stopPropagation()},children:Object(de.jsx)(T.a,{children:Object(de.jsx)(Rc.a,{onChange:function(t){return e.onSelectChange(t.target.checked)},checked:e.isSelected})})}),Object(de.jsx)(Kn.a,{component:"th",scope:"row",className:a.idCell,children:Object(de.jsxs)("div",{className:a.IdGroup,children:[cn(t.id),Object(de.jsx)(Qn.a,{title:"Copy full ID to clipboard",children:Object(de.jsx)(T.a,{onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(t.id)},size:"small",className:a.copyButton,children:Object(de.jsx)(Nc.a,{fontSize:"small"})})})]})}),Object(de.jsx)(Kn.a,{children:t.type}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(t.payload)})}),Object(de.jsx)(Kn.a,{children:nn(t.last_failed_at)}),Object(de.jsx)(Kn.a,{children:t.error_message}),!window.READ_ONLY&&Object(de.jsx)(Kn.a,{align:"center",className:a.actionCell,onMouseEnter:e.onActionCellEnter,onMouseLeave:e.onActionCellLeave,onClick:function(e){return e.stopPropagation()},children:e.showActions?Object(de.jsxs)(r.a.Fragment,{children:[Object(de.jsx)(Qn.a,{title:"Delete",children:Object(de.jsx)(T.a,{className:a.actionButton,onClick:e.onDeleteClick,disabled:t.requestPending||e.allActionPending,size:"small",children:Object(de.jsx)(Xn.a,{fontSize:"small"})})}),Object(de.jsx)(Qn.a,{title:"Run",children:Object(de.jsx)(T.a,{className:a.actionButton,onClick:e.onRunClick,disabled:t.requestPending||e.allActionPending,size:"small",children:Object(de.jsx)(Do.a,{fontSize:"small"})})})]}):Object(de.jsx)(T.a,{size:"small",onClick:e.onActionCellEnter,children:Object(de.jsx)(tr.a,{fontSize:"small"})})})]},t.id)}var pu=du((function(e){return Object(de.jsx)(zo,Object(l.a)({taskState:"archived",columns:ju,renderRow:function(e){return Object(de.jsx)(bu,Object(l.a)({},e))}},e))}));var Ou={listTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Xc,queue:e}),a.next=4,it(e,t);case 4:r=a.sent,n({type:es,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.error("listCompletedTasksAsync: ",Za(a.t0)),n({type:ts,queue:e,error:$a(a.t0)});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},deleteTask:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:co,queue:e,taskId:t}),a.prev=1,a.next=4,Pa(e,t);case 4:n({type:so,queue:e,taskId:t}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.error("deleteCompletedTaskAsync: ",Za(a.t0)),n({type:io,error:$a(a.t0),queue:e,taskId:t});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},deleteAllTasks:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){var n;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:oo,queue:e}),t.prev=1,t.next=4,Ba(e);case 4:n=t.sent,a({type:uo,deleted:n.deleted,queue:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("deleteAllCompletedTasksAsync: ",Za(t.t0)),a({type:lo,error:$a(t.t0),queue:e});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},batchDeleteTasks:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:jo,queue:e,taskIds:t}),a.prev=1,a.next=4,La(e,t);case 4:r=a.sent,n({type:bo,queue:e,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("batchDeleteCompletedTasksAsync: ",Za(a.t0)),n({type:po,error:$a(a.t0),queue:e,taskIds:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},taskRowsPerPageChange:ee},hu=Object(o.b)((function(e){return{loading:e.tasks.completedTasks.loading,error:e.tasks.completedTasks.error,tasks:e.tasks.completedTasks.data,batchActionPending:e.tasks.completedTasks.batchActionPending,allActionPending:e.tasks.completedTasks.allActionPending,pollInterval:e.settings.pollInterval,pageSize:e.settings.taskRowsPerPage}}),Ou),gu=[{key:"id",label:"ID",align:"left"},{key:"type",label:"Type",align:"left"},{key:"payload",label:"Payload",align:"left"},{key:"completed_at",label:"Completed",align:"left"},{key:"result",label:"Result",align:"left"},{key:"ttl",label:"TTL",align:"left"},{key:"actions",label:"Actions",align:"center"}];function fu(e){var t=e.task,a=Vo(),n=Object(b.f)();return Object(de.jsxs)(Mn.a,{className:a.root,selected:e.isSelected,onClick:function(){return n.push(Q(t.queue,t.id))},children:[!window.READ_ONLY&&Object(de.jsx)(Kn.a,{padding:"checkbox",onClick:function(e){return e.stopPropagation()},children:Object(de.jsx)(T.a,{children:Object(de.jsx)(Rc.a,{onChange:function(t){return e.onSelectChange(t.target.checked)},checked:e.isSelected})})}),Object(de.jsx)(Kn.a,{component:"th",scope:"row",className:a.idCell,children:Object(de.jsxs)("div",{className:a.IdGroup,children:[cn(t.id),Object(de.jsx)(Qn.a,{title:"Copy full ID to clipboard",children:Object(de.jsx)(T.a,{onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(t.id)},size:"small",className:a.copyButton,children:Object(de.jsx)(Nc.a,{fontSize:"small"})})})]})}),Object(de.jsx)(Kn.a,{children:t.type}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(t.payload)})}),Object(de.jsx)(Kn.a,{children:nn(t.completed_at)}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(t.result)})}),Object(de.jsx)(Kn.a,{children:t.ttl_seconds>0?"".concat(tn(Xa(t.ttl_seconds))," left"):"expired"}),!window.READ_ONLY&&Object(de.jsx)(Kn.a,{align:"center",className:a.actionCell,onMouseEnter:e.onActionCellEnter,onMouseLeave:e.onActionCellLeave,onClick:function(e){return e.stopPropagation()},children:e.showActions?Object(de.jsx)(r.a.Fragment,{children:Object(de.jsx)(Qn.a,{title:"Delete",children:Object(de.jsx)(T.a,{className:a.actionButton,onClick:e.onDeleteClick,disabled:t.requestPending||e.allActionPending,size:"small",children:Object(de.jsx)(Xn.a,{fontSize:"small"})})})}):Object(de.jsx)(T.a,{size:"small",onClick:e.onActionCellEnter,children:Object(de.jsx)(tr.a,{fontSize:"small"})})})]},t.id)}var mu=hu((function(e){return Object(de.jsx)(zo,Object(l.a)({taskState:"completed",columns:gu,renderRow:function(e){return Object(de.jsx)(fu,Object(l.a)({},e))}},e))})),xu="LIST_GROUPS_BEGIN",vu="LIST_GROUPS_SUCCESS",ku="LIST_GROUPS_ERROR";var yu={listAggregatingTasksAsync:function(e,t,a){return function(){var n=Object(Te.a)(Se.a.mark((function n(r){var c;return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:as,queue:e,group:t}),n.next=4,ut(e,t,a);case 4:c=n.sent,r({type:ns,queue:e,group:t,payload:c}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.error("listAggregatingTasksAsync: ",Za(n.t0)),r({type:rs,queue:e,group:t,error:$a(n.t0)});case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},deleteAllAggregatingTasksAsync:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Ro,queue:e,group:t}),a.prev=1,a.next=4,Et(e,t);case 4:r=a.sent,n({type:wo,deleted:r.deleted,queue:e,group:t}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("deleteAllAggregatingTasksAsync: ",Za(a.t0)),n({type:Io,error:$a(a.t0),queue:e,group:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},archiveAllAggregatingTasksAsync:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Eo,queue:e,group:t}),a.prev=1,a.next=4,Bt(e,t);case 4:r=a.sent,n({type:Ao,archived:r.archived,queue:e,group:t}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("archiveAllAggregatingTasksAsync: ",Za(a.t0)),n({type:Co,error:$a(a.t0),queue:e,group:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},runAllAggregatingTasksAsync:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:So,queue:e,group:t}),a.prev=1,a.next=4,qt(e,t);case 4:r=a.sent,n({type:To,scheduled:r.scheduled,queue:e,group:t}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("runAllAggregatingTasksAsync: ",Za(a.t0)),n({type:_o,error:$a(a.t0),queue:e,group:t});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},batchDeleteAggregatingTasksAsync:function(e,t,a){return function(){var n=Object(Te.a)(Se.a.mark((function n(r){var c;return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:vo,queue:e,group:t,taskIds:a}),n.prev=1,n.next=4,Tt(e,t,a);case 4:c=n.sent,r({type:ko,payload:c,queue:e,group:t}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("batchDeleteAggregatingTasksAsync: ",Za(n.t0)),r({type:yo,error:$a(n.t0),queue:e,group:t,taskIds:a});case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},batchRunAggregatingTasksAsync:function(e,t,a){return function(){var n=Object(Te.a)(Se.a.mark((function n(r){var c;return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:Oo,queue:e,group:t,taskIds:a}),n.prev=1,n.next=4,wt(e,t,a);case 4:c=n.sent,r({type:ho,payload:c,queue:e,group:t}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("batchRunAggregatingTasksAsync: ",Za(n.t0)),r({type:go,error:$a(n.t0),queue:e,group:t,taskIds:a});case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},batchArchiveAggregatingTasksAsync:function(e,t,a){return function(){var n=Object(Te.a)(Se.a.mark((function n(r){var c;return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:fo,queue:e,group:t,taskIds:a}),n.prev=1,n.next=4,Lt(e,t,a);case 4:c=n.sent,r({type:mo,payload:c,queue:e,group:t}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("batchArchiveAggregatingTasksAsync: ",Za(n.t0)),r({type:xo,error:$a(n.t0),queue:e,group:t,taskIds:a});case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},deleteAggregatingTaskAsync:function(e,t,a){return function(){var n=Object(Te.a)(Se.a.mark((function n(r){return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:Hs,queue:e,taskId:a}),n.prev=1,n.next=4,yt(e,t,a);case 4:r({type:Ks,queue:e,taskId:a}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),console.error("deleteAggregatingTaskAsync: ",Za(n.t0)),r({type:zs,error:$a(n.t0),queue:e,taskId:a});case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()},runAggregatingTaskAsync:function(e,t,a){return function(){var n=Object(Te.a)(Se.a.mark((function n(r){return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:Gs,queue:e,taskId:a}),n.prev=1,n.next=4,Ct(e,t,a);case 4:r({type:Bs,queue:e,taskId:a}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),console.error("runAggregatingTaskAsync: ",Za(n.t0)),r({type:Us,error:$a(n.t0),queue:e,taskId:a});case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()},archiveAggregatingTaskAsync:function(e,t,a){return function(){var n=Object(Te.a)(Se.a.mark((function n(r){return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:Vs,queue:e,taskId:a}),n.prev=1,n.next=4,Pt(e,t,a);case 4:r({type:Ms,queue:e,taskId:a}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),console.error("archiveAggregatingTaskAsync: ",Za(n.t0)),r({type:Fs,error:$a(n.t0),queue:e,taskId:a});case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()},taskRowsPerPageChange:ee},Su=Object(o.b)((function(e){return{groups:e.groups.data,groupsError:e.groups.error,loading:e.tasks.aggregatingTasks.loading,allActionPending:e.tasks.aggregatingTasks.allActionPending,batchActionPending:e.tasks.aggregatingTasks.batchActionPending,error:e.tasks.aggregatingTasks.error,group:e.tasks.aggregatingTasks.group,tasks:e.tasks.aggregatingTasks.data,pollInterval:e.settings.pollInterval,pageSize:e.settings.taskRowsPerPage}}),yu),Tu=[{key:"id",label:"ID",align:"left"},{key:"type",label:"Type",align:"left"},{key:"paylod",label:"Payload",align:"left"},{key:"group",label:"Group",align:"left"},{key:"actions",label:"Actions",align:"center"}];function _u(e){var t=e.task,a=Vo(),n=Object(b.f)();return Object(de.jsxs)(Mn.a,{className:a.root,selected:e.isSelected,onClick:function(){return n.push(Q(t.queue,t.id))},children:[!window.READ_ONLY&&Object(de.jsx)(Kn.a,{padding:"checkbox",onClick:function(e){return e.stopPropagation()},children:Object(de.jsx)(T.a,{children:Object(de.jsx)(Rc.a,{onChange:function(t){return e.onSelectChange(t.target.checked)},checked:e.isSelected})})}),Object(de.jsx)(Kn.a,{component:"th",scope:"row",className:a.idCell,children:Object(de.jsxs)("div",{className:a.IdGroup,children:[cn(t.id),Object(de.jsx)(Qn.a,{title:"Copy full ID to clipboard",children:Object(de.jsx)(T.a,{onClick:function(e){e.stopPropagation(),navigator.clipboard.writeText(t.id)},size:"small",className:a.copyButton,children:Object(de.jsx)(Nc.a,{fontSize:"small"})})})]})}),Object(de.jsx)(Kn.a,{children:t.type}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(t.payload)})}),Object(de.jsx)(Kn.a,{children:t.group}),!window.READ_ONLY&&Object(de.jsx)(Kn.a,{align:"center",className:a.actionCell,onMouseEnter:e.onActionCellEnter,onMouseLeave:e.onActionCellLeave,onClick:function(e){return e.stopPropagation()},children:e.showActions?Object(de.jsxs)(r.a.Fragment,{children:[Object(de.jsx)(Qn.a,{title:"Delete",children:Object(de.jsx)(T.a,{onClick:e.onDeleteClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Xn.a,{fontSize:"small"})})}),Object(de.jsx)(Qn.a,{title:"Archive",children:Object(de.jsx)(T.a,{onClick:e.onArchiveClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Go.a,{fontSize:"small"})})}),Object(de.jsx)(Qn.a,{title:"Run",children:Object(de.jsx)(T.a,{onClick:e.onRunClick,disabled:t.requestPending||e.allActionPending,size:"small",className:a.actionButton,children:Object(de.jsx)(Do.a,{fontSize:"small"})})})]}):Object(de.jsx)(T.a,{size:"small",onClick:e.onActionCellEnter,children:Object(de.jsx)(tr.a,{fontSize:"small"})})})]},t.id)}var Eu=Su((function(e){return Object(de.jsx)(zo,{queue:e.queue,totalTaskCount:e.totalTaskCount,taskState:"aggregating",loading:e.loading,error:e.error,tasks:e.tasks,batchActionPending:e.batchActionPending,allActionPending:e.allActionPending,pollInterval:e.pollInterval,pageSize:e.pageSize,listTasks:function(t,a){return e.listAggregatingTasksAsync(t,e.selectedGroup,a)},deleteAllTasks:function(t){return e.deleteAllAggregatingTasksAsync(t,e.selectedGroup)},archiveAllTasks:function(t){return e.archiveAllAggregatingTasksAsync(t,e.selectedGroup)},runAllTasks:function(t){return e.runAllAggregatingTasksAsync(t,e.selectedGroup)},batchDeleteTasks:function(t,a){return e.batchDeleteAggregatingTasksAsync(t,e.selectedGroup,a)},batchArchiveTasks:function(t,a){return e.batchArchiveAggregatingTasksAsync(t,e.selectedGroup,a)},batchRunTasks:function(t,a){return e.batchRunAggregatingTasksAsync(t,e.selectedGroup,a)},deleteTask:function(t,a){return e.deleteAggregatingTaskAsync(t,e.selectedGroup,a)},archiveTask:function(t,a){return e.archiveAggregatingTaskAsync(t,e.selectedGroup,a)},runTask:function(t,a){return e.runAggregatingTaskAsync(t,e.selectedGroup,a)},taskRowsPerPageChange:e.taskRowsPerPageChange,columns:Tu,renderRow:function(e){return Object(de.jsx)(_u,Object(l.a)({},e))}})})),Au=a(737),Cu=a(739),Ru=a(715),wu=a(375),Iu=Object(p.a)((function(e){return{groupSelectOption:{display:"flex",justifyContent:"space-between",width:"100%"},groupSize:{fontSize:"12px",color:e.palette.text.secondary,background:Mr(e)?"#303030":e.palette.background.default,textAlign:"center",padding:"3px 6px",borderRadius:"10px",marginRight:"2px"},inputRoot:{borderRadius:20,paddingLeft:"12px !important"}}}));function qu(e){var t=Iu(),a=r.a.useState(""),n=Object(Gn.a)(a,2),c=n[0],s=n[1];return Object(de.jsx)(Cu.a,{id:"task-group-selector",value:e.selected,onChange:function(t,a){e.onSelect(a)},inputValue:c,onInputChange:function(e,t){s(t)},disableListWrap:!0,ListboxComponent:Lu,options:e.groups,getOptionLabel:function(e){return e.group},style:{width:300},renderOption:function(e){return Object(de.jsxs)("div",{className:t.groupSelectOption,children:[Object(de.jsx)("span",{children:e.group}),Object(de.jsx)("span",{className:t.groupSize,children:e.size})]})},renderInput:function(e){return Object(de.jsx)(Au.a,Object(l.a)(Object(l.a)({},e),{},{label:"Select group",variant:"outlined"}))},classes:{inputRoot:t.inputRoot},size:"small"})}function Nu(e){var t=e.data,a=e.index,n=e.style;return r.a.cloneElement(t[a],{style:Object(l.a)(Object(l.a)({},n),{},{top:n.top+8})})}var Pu=r.a.createContext({}),Du=r.a.forwardRef((function(e,t){var a=r.a.useContext(Pu);return Object(de.jsx)("div",Object(l.a)(Object(l.a)({ref:t},e),a))}));var Lu=r.a.forwardRef((function(e,t){var a=e.children,n=Object(Tc.a)(e,["children"]),c=r.a.Children.toArray(a),s=Object(ae.a)(),i=Object(Vr.a)(s.breakpoints.up("sm"),{noSsr:!0}),o=c.length,u=i?36:48,l=function(e){return r.a.isValidElement(e)&&e.type===Ru.a?48:u},d=function(e){var t=r.a.useRef(null);return r.a.useEffect((function(){null!=t.current&&t.current.resetAfterIndex(0,!0)}),[e]),t}(o);return Object(de.jsx)("div",{ref:t,children:Object(de.jsx)(Pu.Provider,{value:n,children:Object(de.jsx)(wu.a,{itemData:c,height:(o>8?8*u:c.map(l).reduce((function(e,t){return e+t}),0))+16,width:"100%",ref:d,outerElementType:Du,innerElementType:"ul",itemSize:function(e){return l(c[e])},overscanCount:5,itemCount:o,children:Nu})})})})),Gu=Object(p.a)((function(e){return{groupSelector:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},alert:{borderTopLeftRadius:0,borderTopRightRadius:0}}}));var Bu={listGroupsAsync:function(e){return function(){var t=Object(Te.a)(Se.a.mark((function t(a){var n;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:xu,queue:e}),t.prev=1,t.next=4,He(e);case 4:n=t.sent,a({type:vu,payload:n,queue:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("listGroupsAsync: ".concat(Za(t.t0))),a({type:ku,error:$a(t.t0),queue:e});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}};var Uu=Object(o.b)((function(e){return{groups:e.groups.data,groupsError:e.groups.error,pollInterval:e.settings.pollInterval}}),Bu)((function(e){var t=Object(n.useState)(null),a=Object(Gn.a)(t,2),r=a[0],c=a[1],s=e.pollInterval,i=e.listGroupsAsync,o=e.queue,u=Gu();return wr(Object(n.useCallback)((function(){i(o)}),[i,o]),s),e.groupsError.length>0?Object(de.jsxs)(ve.a,{severity:"error",className:u.alert,children:[Object(de.jsx)(ke.a,{children:"Error"}),e.groupsError]}):0===e.groups.length?Object(de.jsxs)(ve.a,{severity:"info",className:u.alert,children:[Object(de.jsx)(ke.a,{children:"Info"}),"No aggregating tasks at this time."]}):Object(de.jsxs)("div",{children:[Object(de.jsx)("div",{className:u.groupSelector,children:Object(de.jsx)(qu,{selected:r,onSelect:c,groups:e.groups,error:e.groupsError})}),null!==r?Object(de.jsx)(Eu,{queue:e.queue,totalTaskCount:r.size,selectedGroup:r.group}):Object(de.jsxs)(ve.a,{severity:"info",className:u.alert,children:[Object(de.jsx)(ke.a,{children:"Info"}),Object(de.jsx)("div",{children:"Please select group"})]})]})}));function Hu(e){var t=e.children,a=e.value,n=e.selected,r=Object(Tc.a)(e,["children","value","selected"]);return Object(de.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n),style:{flex:1,overflowY:"scroll"}},r),{},{children:a===n&&t}))}var Ku=Object(o.b)((function(e,t){var a=e.queues.data.find((function(e){return e.name===t.queue}));return{currentStats:a?a.currentStats:{queue:t.queue,paused:!1,size:0,groups:0,active:0,pending:0,aggregating:0,scheduled:0,retry:0,archived:0,completed:0,processed:0,failed:0,timestamp:"n/a"}}})),zu=Object(p.a)((function(e){return{container:{width:"100%",height:"100%",background:e.palette.background.paper},header:{display:"flex",alignItems:"center",paddingTop:e.spacing(1)},heading:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},chip:{marginLeft:e.spacing(1)},taskcount:{fontSize:"12px",color:e.palette.text.secondary,background:Mr(e)?"#303030":e.palette.background.default,textAlign:"center",padding:"3px 6px",borderRadius:"10px",marginLeft:"2px"},searchbar:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),marginRight:e.spacing(1),flex:1},search:{position:"relative",maxWidth:400,borderRadius:"18px",backgroundColor:Mr(e)?"#303030":e.palette.grey[100],"&:hover, &:focus":{backgroundColor:Mr(e)?"#303030":e.palette.grey[200]}},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),width:"100%",fontSize:"0.85rem"}}}));var Vu=Ku((function(e){var t=e.currentStats,a=zu(),r=Object(b.f)(),c=[{key:"active",label:"Active",count:t.active},{key:"pending",label:"Pending",count:t.pending},{key:"aggregating",label:"Aggregating",count:t.aggregating},{key:"scheduled",label:"Scheduled",count:t.scheduled},{key:"retry",label:"Retry",count:t.retry},{key:"archived",label:"Archived",count:t.archived},{key:"completed",label:"Completed",count:t.completed}],s=Object(n.useState)(""),i=Object(Gn.a)(s,2),o=i[0],u=i[1];return Object(de.jsxs)(ge.a,{variant:"outlined",className:a.container,children:[Object(de.jsxs)("div",{className:a.header,children:[Object(de.jsx)(fe.a,{color:"textPrimary",className:a.heading,children:"Tasks"}),Object(de.jsx)("div",{children:c.map((function(t){return Object(de.jsx)(_c.a,{className:a.chip,label:Object(de.jsxs)("div",{children:[t.label," ",Object(de.jsx)("span",{className:a.taskcount,children:t.count})]}),variant:"outlined",color:e.selected===t.key?"primary":"default",onClick:function(){return r.push(F(e.queue,t.key))}},t.key)}))}),Object(de.jsx)("div",{className:a.searchbar,children:Object(de.jsxs)("div",{className:a.search,children:[Object(de.jsx)("div",{className:a.searchIcon,children:Object(de.jsx)(Cc.a,{})}),Object(de.jsx)(Ec.a,{placeholder:"Search by ID",classes:{root:a.inputRoot,input:a.inputInput},value:o,onChange:function(e){u(e.target.value)},inputProps:{"aria-label":"search",onKeyDown:function(t){"Enter"===t.key&&r.push(Q(e.queue,o.trim()))}}})]})})]}),Object(de.jsx)(Hu,{value:"active",selected:e.selected,children:Object(de.jsx)(Yo,{queue:e.queue,totalTaskCount:t.active})}),Object(de.jsx)(Hu,{value:"pending",selected:e.selected,children:Object(de.jsx)(Xo,{queue:e.queue,totalTaskCount:t.pending})}),Object(de.jsx)(Hu,{value:"aggregating",selected:e.selected,children:Object(de.jsx)(Uu,{queue:e.queue})}),Object(de.jsx)(Hu,{value:"scheduled",selected:e.selected,children:Object(de.jsx)(ru,{queue:e.queue,totalTaskCount:t.scheduled})}),Object(de.jsx)(Hu,{value:"retry",selected:e.selected,children:Object(de.jsx)(uu,{queue:e.queue,totalTaskCount:t.retry})}),Object(de.jsx)(Hu,{value:"archived",selected:e.selected,children:Object(de.jsx)(pu,{queue:e.queue,totalTaskCount:t.archived})}),Object(de.jsx)(Hu,{value:"completed",selected:e.selected,children:Object(de.jsx)(mu,{queue:e.queue,totalTaskCount:t.completed})})]})})),Mu=Object(p.a)((function(e){return{banner:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),display:"flex"},bannerItem:{flexGrow:1,borderLeft:"1px solid ".concat(e.palette.divider),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}}}));var Fu=Object(o.b)((function(e,t){var a=e.queues.data.find((function(e){return e.name===t.qname}));return{queue:null===a||void 0===a?void 0:a.currentStats}}))((function(e){var t=Mu(),a=e.queue,n=e.qname;return Object(de.jsxs)("div",{className:t.banner,children:[Object(de.jsxs)("div",{className:t.bannerItem,children:[Object(de.jsx)(fe.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,children:"Queue name"}),Object(de.jsx)(fe.a,{color:"textSecondary",children:n})]}),Object(de.jsxs)("div",{className:t.bannerItem,children:[Object(de.jsx)(fe.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,children:"Queue state"}),Object(de.jsx)(fe.a,{color:"textSecondary",children:a?a.paused?"paused":"run":"-"})]}),Object(de.jsxs)("div",{className:t.bannerItem,children:[Object(de.jsx)(fe.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,children:"Queue size"}),Object(de.jsx)(fe.a,{color:"textSecondary",children:a?a.size:"-"})]}),Object(de.jsxs)("div",{className:t.bannerItem,children:[Object(de.jsx)(fe.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,children:"Task groups"}),Object(de.jsx)(fe.a,{color:"textSecondary",children:a?a.groups:"-"})]}),Object(de.jsxs)("div",{className:t.bannerItem,children:[Object(de.jsx)(fe.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,children:"Memory usage"}),Object(de.jsx)(fe.a,{color:"textSecondary",children:a?jr()(a.memory_usage_bytes):"-"})]}),Object(de.jsxs)("div",{className:t.bannerItem,children:[Object(de.jsx)(fe.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,children:"Latency"}),Object(de.jsx)(fe.a,{color:"textSecondary",children:a?a.display_latency:"-"})]}),Object(de.jsxs)("div",{className:t.bannerItem,children:[Object(de.jsx)(fe.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,children:"Processed"}),Object(de.jsx)(fe.a,{color:"textSecondary",children:a?a.processed:"-"})]}),Object(de.jsxs)("div",{className:t.bannerItem,children:[Object(de.jsx)(fe.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,children:"Failed"}),Object(de.jsx)(fe.a,{color:"textSecondary",children:a?a.failed:"-"})]}),Object(de.jsxs)("div",{className:t.bannerItem,children:[Object(de.jsx)(fe.a,{variant:"subtitle2",color:"textPrimary",gutterBottom:!0,children:"Error rate"}),Object(de.jsx)(fe.a,{color:"textSecondary",children:a?sn(a.failed,a.processed):"-"})]})]})})),Qu=a(17),Yu=a(738),Wu=a(354),Ju=a.n(Wu),Zu=Object(mr.a)((function(e){return{root:{backgroundColor:Mr(e)?"#303030":e.palette.background.default,height:e.spacing(3),color:e.palette.text.secondary,fontWeight:400,"&:hover, &:focus":{backgroundColor:e.palette.action.hover},"&:active":{boxShadow:e.shadows[1],backgroundColor:Object(Qu.c)(e.palette.action.hover,.12)}}}}))(_c.a);function $u(e){var t=Object(b.f)(),a=Object(n.useState)(null),r=Object(Gn.a)(a,2),c=r[0],s=r[1],i=M(),o=function(e){e.preventDefault(),s(e.currentTarget)},u=function(){s(null)};return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(Yu.a,{"aria-label":"breadcrumb",children:[Object(de.jsx)(Zu,{component:j.b,to:i.HOME,label:"Queues",onClick:function(){return t.push(i.HOME)}}),Object(de.jsx)(Zu,{label:e.queueName,deleteIcon:Object(de.jsx)(Ju.a,{}),onClick:o,onDelete:o}),e.taskId&&Object(de.jsx)(Zu,{label:"task:".concat(e.taskId)})]}),Object(de.jsx)(Bo.a,{id:"queue-breadcrumb-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:u,children:e.queues.sort().map((function(e){return Object(de.jsx)(Er.a,{onClick:function(){t.push(F(e)),u()},children:e},e)}))})]})}var Xu=Object(o.b)((function(e){return{queues:e.queues.data.map((function(e){return e.name}))}}),{listQueuesAsync:yn}),el=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(2)},breadcrumbs:{marginBottom:e.spacing(2)},banner:{marginBottom:e.spacing(2)},tasksTable:{marginBottom:e.spacing(4)}}})),tl=["active","pending","aggregating","scheduled","retry","archived","completed"];var al=Xu((function(e){var t=el(),a=Object(b.h)().qname,r=Ir().get("status");r&&tl.includes(r)||(r="active");var c=e.listQueuesAsync;return Object(n.useEffect)((function(){c()}),[c]),Object(de.jsx)(Oe.a,{maxWidth:"lg",children:Object(de.jsxs)(he.a,{container:!0,spacing:0,className:t.container,children:[Object(de.jsx)(he.a,{item:!0,xs:12,className:t.breadcrumbs,children:Object(de.jsx)($u,{queues:e.queues,queueName:a})}),Object(de.jsx)(he.a,{item:!0,xs:12,className:t.banner,children:Object(de.jsx)(Fu,{qname:a})}),Object(de.jsx)(he.a,{item:!0,xs:12,className:t.tasksTable,children:Object(de.jsx)(Vu,{queue:a,selected:r})})]})})})),nl=a(355),rl=a.n(nl);var cl=Object(o.b)((function(e){return{loading:e.tasks.taskInfo.loading,error:e.tasks.taskInfo.error,taskInfo:e.tasks.taskInfo.data,pollInterval:e.settings.pollInterval,queues:e.queues.data.map((function(e){return e.name}))}}),{getTaskInfoAsync:function(e,t){return function(){var a=Object(Te.a)(Se.a.mark((function a(n){var r;return Se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Pc}),a.prev=1,a.next=4,ze(e,t);case 4:r=a.sent,n({type:Dc,payload:r}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.error("getTaskInfoAsync: ",Za(a.t0)),n({type:Lc,error:$a(a.t0)});case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},listQueuesAsync:yn}),sl=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(2)},alert:{borderTopLeftRadius:0,borderTopRightRadius:0},paper:{padding:e.spacing(2),marginTop:e.spacing(2)},breadcrumbs:{marginBottom:e.spacing(2)},infoRow:{display:"flex",alignItems:"center",paddingTop:e.spacing(1)},infoKeyCell:{width:"140px"},infoValueCell:{width:"auto"},footer:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));var il=cl((function(e){var t=sl(),a=Object(b.h)(),r=a.qname,c=a.taskId,s=e.getTaskInfoAsync,i=e.pollInterval,o=e.listQueuesAsync,u=e.taskInfo,l=Object(b.f)();return wr(Object(n.useMemo)((function(){return function(){s(r,c)}}),[r,c,s]),i),Object(n.useEffect)((function(){o()}),[o]),Object(de.jsx)(Oe.a,{maxWidth:"lg",className:t.container,children:Object(de.jsxs)(he.a,{container:!0,spacing:0,children:[Object(de.jsx)(he.a,{item:!0,xs:12,className:t.breadcrumbs,children:Object(de.jsx)($u,{queues:e.queues,queueName:r,taskId:c})}),Object(de.jsxs)(he.a,{item:!0,xs:12,md:6,children:[e.error?Object(de.jsxs)(ve.a,{severity:"error",className:t.alert,children:[Object(de.jsx)(ke.a,{children:"Error"}),e.error]}):Object(de.jsxs)(ge.a,{className:t.paper,variant:"outlined",children:[Object(de.jsx)(fe.a,{variant:"h6",children:"Task Info"}),Object(de.jsxs)("div",{children:[Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["ID:"," "]}),Object(de.jsx)(fe.a,{className:t.infoValueCell,children:null===u||void 0===u?void 0:u.id})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Type:"," "]}),Object(de.jsx)(fe.a,{className:t.infoValueCell,children:null===u||void 0===u?void 0:u.type})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["State:"," "]}),Object(de.jsx)(fe.a,{className:t.infoValueCell,children:null===u||void 0===u?void 0:u.state})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Queue:"," "]}),Object(de.jsx)(fe.a,{className:t.infoValueCell,children:null===u||void 0===u?void 0:u.queue})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Retry:"," "]}),Object(de.jsxs)(fe.a,{className:t.infoValueCell,children:[null===u||void 0===u?void 0:u.retried,"/",null===u||void 0===u?void 0:u.max_retry]})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Last Failure:"," "]}),Object(de.jsx)(fe.a,{className:t.infoValueCell,children:(null===u||void 0===u?void 0:u.last_failed_at)?Object(de.jsxs)(fe.a,{children:[null===u||void 0===u?void 0:u.error_message," (",null===u||void 0===u?void 0:u.last_failed_at,")"]}):Object(de.jsx)(fe.a,{children:" - "})})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Next Process Time:"," "]}),(null===u||void 0===u?void 0:u.next_process_at)?Object(de.jsx)(fe.a,{children:null===u||void 0===u?void 0:u.next_process_at}):Object(de.jsx)(fe.a,{children:" - "})]})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Timeout:"," "]}),Object(de.jsx)(fe.a,{className:t.infoValueCell,children:(null===u||void 0===u?void 0:u.timeout_seconds)?Object(de.jsxs)(fe.a,{children:[null===u||void 0===u?void 0:u.timeout_seconds," seconds"]}):Object(de.jsx)(fe.a,{children:" - "})})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Deadline:"," "]}),Object(de.jsx)(fe.a,{className:t.infoValueCell,children:(null===u||void 0===u?void 0:u.deadline)?Object(de.jsx)(fe.a,{children:null===u||void 0===u?void 0:u.deadline}):Object(de.jsx)(fe.a,{children:" - "})})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Payload:"," "]}),Object(de.jsx)("div",{className:t.infoValueCell,children:(null===u||void 0===u?void 0:u.payload)&&Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(u.payload)})})]}),"completed"===(null===u||void 0===u?void 0:u.state)&&Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Completed:"," "]}),Object(de.jsx)("div",{className:t.infoValueCell,children:Object(de.jsxs)(fe.a,{children:[nn(u.completed_at)," (",u.completed_at,")"]})})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["Result:"," "]}),Object(de.jsx)("div",{className:t.infoValueCell,children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0,maxWidth:400},children:on(u.result)})})]}),Object(de.jsxs)("div",{className:t.infoRow,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",className:t.infoKeyCell,children:["TTL:"," "]}),Object(de.jsx)(fe.a,{className:t.infoValueCell,children:Object(de.jsx)(fe.a,{children:u.ttl_seconds>0?"".concat(tn(Xa(u.ttl_seconds))," left"):"expired"})})]})]})]}),Object(de.jsx)("div",{className:t.footer,children:Object(de.jsx)(ar.a,{startIcon:Object(de.jsx)(rl.a,{}),onClick:function(){return l.goBack()},children:"Go Back"})})]})]})})})),ol=a(740),ul=a(356),ll=a.n(ul),dl=a(732),jl=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},formControl:{margin:e.spacing(1),display:"flex",justifyContent:"space-between",flexDirection:"row",alignItems:"center"},selectEmpty:{marginTop:e.spacing(2)},select:{width:"200px"}}}));var bl={pollIntervalChange:function(e){return{type:W,value:e}},selectTheme:function(e){return{type:J,value:e}}};var pl,Ol=Object(o.b)((function(e){return{pollInterval:e.settings.pollInterval,themePreference:e.settings.themePreference}}),bl)((function(e){var t=jl(),a=Object(n.useState)(e.pollInterval),r=Object(Gn.a)(a,2),c=r[0],s=r[1];return Object(de.jsx)(Oe.a,{maxWidth:"lg",className:t.container,children:Object(de.jsxs)(he.a,{container:!0,spacing:3,justify:"center",children:[Object(de.jsx)(he.a,{item:!0,xs:1}),Object(de.jsx)(he.a,{item:!0,xs:6,children:Object(de.jsx)(fe.a,{variant:"h5",color:"textPrimary",children:"Settings"})}),Object(de.jsx)(he.a,{item:!0,xs:5}),Object(de.jsx)(he.a,{item:!0,xs:1}),Object(de.jsx)(he.a,{item:!0,xs:6,children:Object(de.jsxs)(ge.a,{className:t.paper,variant:"outlined",children:[Object(de.jsx)(fe.a,{color:"textPrimary",children:"Polling Interval"}),Object(de.jsx)(fe.a,{gutterBottom:!0,color:"textSecondary",variant:"subtitle1",children:"Web UI will fetch live data with the specified interval"}),Object(de.jsxs)(fe.a,{gutterBottom:!0,color:"textSecondary",variant:"subtitle1",children:["Currently: Every"," ",1===c?"second":"".concat(c," seconds")]}),Object(de.jsx)(ol.a,{value:c,onChange:function(e,t){s(t)},onChangeCommitted:function(t,a){e.pollIntervalChange(a)},"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",step:1,marks:!0,min:2,max:20})]})}),Object(de.jsx)(he.a,{xs:5}),Object(de.jsx)(he.a,{item:!0,xs:1}),Object(de.jsx)(he.a,{item:!0,xs:6,children:Object(de.jsx)(ge.a,{className:t.paper,variant:"outlined",children:Object(de.jsxs)(ll.a,{variant:"outlined",className:t.formControl,children:[Object(de.jsx)(fe.a,{color:"textPrimary",children:"Dark Theme"}),Object(de.jsxs)(dl.a,{labelId:"theme-label",id:"theme-selected",value:e.themePreference,onChange:function(t){e.selectTheme(t.target.value)},label:"theme preference",className:t.select,children:[Object(de.jsx)(Er.a,{value:Ur.SystemDefault,children:"System Default"}),Object(de.jsx)(Er.a,{value:Ur.Always,children:"Always"}),Object(de.jsx)(Er.a,{value:Ur.Never,children:"Never"})]})]})})}),Object(de.jsx)(he.a,{item:!0,xs:5})]})})})),hl=a(743),gl=a(720),fl=a(358),ml=a.n(fl),xl=a(357),vl=a.n(xl),kl=Object(p.a)((function(e){return{table:{minWidth:650},fixedCell:{position:"sticky",zIndex:1,left:0,background:e.palette.background.paper}}}));!function(e){e[e.HostPID=0]="HostPID",e[e.Status=1]="Status",e[e.ActiveWorkers=2]="ActiveWorkers",e[e.Queues=3]="Queues",e[e.Started=4]="Started"}(pl||(pl={}));var yl=[{label:"Host:PID",key:"host",sortBy:pl.HostPID,align:"left"},{label:"Started",key:"started",sortBy:pl.Started,align:"left"},{label:"Status",key:"status",sortBy:pl.Status,align:"left"},{label:"Queues",key:"queues",sortBy:pl.Queues,align:"left"},{label:"Active Workers",key:"workers",sortBy:pl.ActiveWorkers,align:"left"}];function Sl(e,t){var a=Object(Bn.a)(e);return a.sort(t),a}function Tl(e){var t=kl(),a=Object(n.useState)(pl.HostPID),r=Object(Gn.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(or.Asc),o=Object(Gn.a)(i,2),u=o[0],l=o[1];return 0===e.servers.length?Object(de.jsxs)(ve.a,{severity:"info",children:[Object(de.jsx)(ke.a,{children:"Info"}),"No servers found at this time."]}):Object(de.jsx)(zn.a,{children:Object(de.jsxs)(Un.a,{className:t.table,"aria-label":"server info table",children:[Object(de.jsx)(Vn.a,{children:Object(de.jsxs)(Mn.a,{children:[yl.map((function(e,a){return Object(de.jsx)(Kn.a,{align:e.align,className:Object(d.default)(0===a&&t.fixedCell),children:Object(de.jsx)(Fn.a,{active:e.sortBy===c,direction:u,onClick:(n=e.sortBy,function(e){if(n===c){var t=u===or.Asc?or.Desc:or.Asc;l(t)}else s(n)}),children:e.label})},e.key);var n})),Object(de.jsx)(Kn.a,{})]})}),Object(de.jsx)(Hn.a,{children:Sl(e.servers,(function(e,t){var a=!1;switch(c){case pl.HostPID:if(e.host===t.host&&e.pid===t.pid)return 0;a=e.host===t.host?e.pid<t.pid:e.host<t.host;break;case pl.Started:var n=Date.parse(e.start_time),r=Date.parse(t.start_time);if(n===r)return 0;a=n<r;break;case pl.Status:if(e.status===t.status)return 0;a=e.status<t.status;break;case pl.Queues:var s=Object.keys(e.queue_priorities).join(","),i=Object.keys(t.queue_priorities).join(",");if(s===i)return 0;a=s<i;break;case pl.ActiveWorkers:if(e.active_workers.length===t.active_workers.length)return 0;a=e.active_workers.length<t.active_workers.length;break;default:throw"Unexpected order by value: ".concat(c)}return u===or.Asc?a?-1:1:a?1:-1})).map((function(e){return Object(de.jsx)(El,{server:e},e.id)}))})]})})}var _l=Object(p.a)((function(e){return{rowRoot:{"& > *":{borderBottom:"unset"}},noBorder:{border:"none"},link:{color:e.palette.text.primary}}}));function El(e){var t=_l(),a=e.server,c=Object(n.useState)(!1),s=Object(Gn.a)(c,2),i=s[0],o=s[1],u=Object.keys(a.queue_priorities);return Object(de.jsxs)(r.a.Fragment,{children:[Object(de.jsxs)(Mn.a,{className:t.rowRoot,children:[Object(de.jsxs)(Kn.a,{children:[a.host,":",a.pid]}),Object(de.jsx)(Kn.a,{children:nn(a.start_time)}),Object(de.jsx)(Kn.a,{children:a.status}),Object(de.jsx)(Kn.a,{children:u.map((function(e,a){return Object(de.jsxs)("span",{children:[Object(de.jsx)(j.b,{to:F(e),className:t.link,children:e}),a===u.length-1?"":", "]},e)}))}),Object(de.jsxs)(Kn.a,{children:[a.active_workers.length,"/",a.concurrency]}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(Qn.a,{title:i?"Hide Details":"Show Details",children:Object(de.jsx)(T.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!i)},children:i?Object(de.jsx)(vl.a,{}):Object(de.jsx)(ml.a,{})})})})]}),Object(de.jsx)(Mn.a,{className:t.rowRoot,children:Object(de.jsx)(Kn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(de.jsx)(gl.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(de.jsxs)(he.a,{container:!0,spacing:2,children:[Object(de.jsxs)(he.a,{item:!0,xs:9,children:[Object(de.jsx)(fe.a,{variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:"Active Workers"}),Object(de.jsxs)(Un.a,{size:"small","aria-label":"active workers",children:[Object(de.jsx)(Vn.a,{children:Object(de.jsxs)(Mn.a,{children:[Object(de.jsx)(Kn.a,{children:"Task ID"}),Object(de.jsx)(Kn.a,{children:"Task Payload"}),Object(de.jsx)(Kn.a,{children:"Queue"}),Object(de.jsx)(Kn.a,{children:"Started"})]})}),Object(de.jsx)(Hn.a,{children:a.active_workers.map((function(e){return Object(de.jsxs)(Mn.a,{children:[Object(de.jsx)(Kn.a,{component:"th",scope:"row",children:cn(e.task_id)}),Object(de.jsx)(Kn.a,{children:Object(de.jsx)(ac,{language:"json",customStyle:{margin:0},children:on(e.task_payload)})}),Object(de.jsx)(Kn.a,{children:e.queue}),Object(de.jsx)(Kn.a,{children:nn(e.start_time)})]},e.task_id)}))})]})]}),Object(de.jsxs)(he.a,{item:!0,xs:3,children:[Object(de.jsx)(fe.a,{variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:"Queue Priority"}),Object(de.jsxs)(Un.a,{size:"small","aria-label":"active workers",children:[Object(de.jsx)(Vn.a,{children:Object(de.jsxs)(Mn.a,{children:[Object(de.jsx)(Kn.a,{children:"Queue"}),Object(de.jsx)(Kn.a,{align:"right",children:"Priority"})]})}),Object(de.jsx)(Hn.a,{children:u.map((function(e){return Object(de.jsxs)(Mn.a,{children:[Object(de.jsx)(Kn.a,{children:Object(de.jsx)(j.b,{to:F(e),className:t.link,children:e})}),Object(de.jsx)(Kn.a,{align:"right",children:a.queue_priorities[e]})]},e)}))})]}),Object(de.jsxs)(hl.a,{margin:2,children:[Object(de.jsxs)(fe.a,{variant:"subtitle2",component:"span",children:["Strict Priority:"," "]}),Object(de.jsx)(fe.a,{variant:"button",component:"span",children:a.strict_priority_enabled?"ON":"OFF"})]})]})]})})})})]})}var Al="LIST_SERVERS_BEGIN",Cl="LIST_SERVERS_SUCCESS",Rl="LIST_SERVERS_ERROR";var wl=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},heading:{paddingLeft:e.spacing(2),marginBottom:e.spacing(1)}}}));var Il=Object(o.b)((function(e){return{loading:e.servers.loading,error:e.servers.error,servers:e.servers.data,pollInterval:e.settings.pollInterval}}),{listServersAsync:function(){return function(){var e=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Al}),e.prev=1,e.next=4,Ha();case 4:a=e.sent,t({type:Cl,payload:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("listServersAsync: ".concat(Za(e.t0))),t({type:Rl,error:$a(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.pollInterval,a=e.listServersAsync,n=wl();return wr(a,t),Object(de.jsx)(Oe.a,{maxWidth:"lg",className:n.container,children:Object(de.jsx)(he.a,{container:!0,spacing:3,children:""===e.error?Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsxs)(ge.a,{className:n.paper,variant:"outlined",children:[Object(de.jsx)(fe.a,{variant:"h6",className:n.heading,children:"Servers"}),Object(de.jsx)(Tl,{servers:e.servers})]})}):Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsxs)(ve.a,{severity:"error",children:[Object(de.jsx)(ke.a,{children:"Error"}),"Could not retrieve servers live data \u2014"," ",Object(de.jsx)("strong",{children:"See the logs for details"})]})})})})})),ql=a(722),Nl=a(723),Pl="GET_REDIS_INFO_BEGIN",Dl="GET_REDIS_INFO_SUCCESS",Ll="GET_REDIS_INFO_ERROR";var Gl=Object(p.a)((function(e){return{table:{minWidth:650}}}));function Bl(e){var t=Gl();return Object(de.jsx)(zn.a,{children:Object(de.jsxs)(Un.a,{className:t.table,"aria-label":"queue location table",children:[Object(de.jsx)(Vn.a,{children:Object(de.jsxs)(Mn.a,{children:[Object(de.jsx)(Kn.a,{children:"Queue"}),Object(de.jsx)(Kn.a,{children:"KeySlot"}),Object(de.jsx)(Kn.a,{children:"Node Addresses"})]})}),Object(de.jsx)(Hn.a,{children:e.queueLocations.map((function(e){return Object(de.jsxs)(Mn.a,{children:[Object(de.jsx)(Kn.a,{component:"th",scope:"row",children:e.queue}),Object(de.jsx)(Kn.a,{children:e.keyslot}),Object(de.jsx)(Kn.a,{children:e.nodes.join(", ")})]},e.queue)}))})]})})}var Ul=a(721),Hl=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));function Kl(e){var t=e.redisInfo;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(fe.a,{variant:"h6",color:"textSecondary",children:"Server"})}),Object(de.jsx)(he.a,{item:!0,xs:3,children:Object(de.jsx)(zl,{title:"Version",content:t.redis_version})}),Object(de.jsx)(he.a,{item:!0,xs:3,children:Object(de.jsx)(zl,{title:"Uptime",content:"".concat(t.uptime_in_days," days")})}),Object(de.jsx)(he.a,{item:!0,xs:6}),Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(fe.a,{variant:"h6",color:"textSecondary",children:"Memory"})}),Object(de.jsx)(he.a,{item:!0,xs:3,children:Object(de.jsx)(zl,{title:"Used Memory",content:t.used_memory_human})}),Object(de.jsx)(he.a,{item:!0,xs:3,children:Object(de.jsx)(zl,{title:"Peak Memory Used",content:t.used_memory_peak_human})}),Object(de.jsx)(he.a,{item:!0,xs:3,children:Object(de.jsx)(zl,{title:"Memory Fragmentation Ratio",content:t.mem_fragmentation_ratio})}),Object(de.jsx)(he.a,{item:!0,xs:3}),Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(fe.a,{variant:"h6",color:"textSecondary",children:"Connections"})}),Object(de.jsx)(he.a,{item:!0,xs:3,children:Object(de.jsx)(zl,{title:"Connected Clients",content:t.connected_clients})}),Object(de.jsx)(he.a,{item:!0,xs:3,children:Object(de.jsx)(zl,{title:"Connected Replicas",content:t.connected_slaves})}),Object(de.jsx)(he.a,{item:!0,xs:6}),Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(fe.a,{variant:"h6",color:"textSecondary",children:"Persistence"})}),Object(de.jsx)(he.a,{item:!0,xs:3,children:Object(de.jsx)(zl,{title:"Last Save to Disk",content:rn(parseInt(t.rdb_last_save_time))})}),Object(de.jsx)(he.a,{item:!0,xs:3,children:Object(de.jsx)(zl,{title:"Number of Changes Since Last Dump",content:t.rdb_changes_since_last_save})}),Object(de.jsx)(he.a,{item:!0,xs:6})]})}function zl(e){return Object(de.jsx)(ql.a,{variant:"outlined",children:Object(de.jsxs)(Nl.a,{children:[Object(de.jsx)(fe.a,{gutterBottom:!0,color:"textPrimary",variant:"h5",align:"center",children:e.content}),Object(de.jsx)(fe.a,{color:"textSecondary",variant:"subtitle2",align:"center",children:e.title})]})})}var Vl=Object(o.b)((function(e){return{loading:e.redis.loading,error:e.redis.error,redisInfo:e.redis.data,redisAddress:e.redis.address,redisInfoRaw:e.redis.rawData,redisClusterEnabled:e.redis.cluster,redisClusterNodesRaw:e.redis.rawClusterNodes,queueLocations:e.redis.queueLocations,pollInterval:e.settings.pollInterval,themePreference:e.settings.themePreference}}),{getRedisInfoAsync:function(){return function(){var e=Object(Te.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Pl}),e.prev=1,e.next=4,Qa();case 4:a=e.sent,t({type:Dl,payload:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("getRedisInfoAsync: ".concat(Za(e.t0))),t({type:Ll,error:$a(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=Hl(),a=e.pollInterval,n=e.getRedisInfoAsync,r=e.redisInfo,c=e.redisInfoRaw,s=e.redisClusterEnabled,i=e.redisClusterNodesRaw,o=e.queueLocations;return wr(n,a),Object(de.jsx)(Oe.a,{maxWidth:"lg",className:t.container,children:Object(de.jsx)(he.a,{container:!0,spacing:3,children:""===e.error?Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(he.a,{item:!0,xs:12,children:[Object(de.jsx)(fe.a,{variant:"h5",color:"textPrimary",children:s?"Redis Cluster Info":"Redis Info"}),!s&&Object(de.jsxs)(fe.a,{variant:"subtitle1",color:"textSecondary",children:["Connected to: ",e.redisAddress]})]}),o&&o.length>0&&Object(de.jsxs)(he.a,{item:!0,xs:12,children:[Object(de.jsx)(fe.a,{variant:"h6",color:"textSecondary",children:"Queue Location in Cluster"}),Object(de.jsx)(Bl,{queueLocations:o})]}),i&&Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)(he.a,{item:!0,xs:12,children:[Object(de.jsxs)(fe.a,{variant:"h6",color:"textSecondary",children:[Object(de.jsx)(Ul.a,{href:"https://redis.io/commands/cluster-nodes",target:"_",children:"CLUSTER NODES"})," ","Command Output"]}),Object(de.jsx)(ac,{language:"yaml",children:i})]})}),r&&!s&&Object(de.jsx)(Kl,{redisInfo:r}),c&&Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)(he.a,{item:!0,xs:6,children:[Object(de.jsxs)(fe.a,{variant:"h6",color:"textSecondary",children:[s?Object(de.jsx)(Ul.a,{href:"https://redis.io/commands/cluster-info",target:"_",children:"CLUSTER INFO"}):Object(de.jsx)(Ul.a,{href:"https://redis.io/commands/info",target:"_",children:"INFO"})," ","Command Output"]}),Object(de.jsx)(ac,{language:"yaml",children:c})]})})]}):Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsxs)(ve.a,{severity:"error",children:[Object(de.jsx)(ke.a,{children:"Error"}),"Could not retrieve redis live data \u2014"," ",Object(de.jsx)("strong",{children:"See the logs for details"})]})})})})})),Ml=a(363),Fl=a.n(Ml),Ql="GET_METRICS_BEGIN",Yl="GET_METRICS_SUCCESS",Wl="GET_METRICS_ERROR";var Jl=["#2085ec","#72b4eb","#0a417a","#8464a0","#cea9bc","#323232"];function Zl(e){var t=Object(ae.a)(),a=function(e){if(0===e.length)return[];var t,a={},n=Object(qr.a)(e);try{for(n.s();!(t=n.n()).done;){var r,c=t.value,s=Object(qr.a)(c.values);try{for(s.s();!(r=s.n()).done;){var i=Object(Gn.a)(r.value,2),o=i[0],u=i[1];a[o]||(a[o]={timestamp:o});var l=c.metric.queue;l&&(a[o][l]=parseFloat(u))}}catch(d){s.e(d)}finally{s.f()}}}catch(d){n.e(d)}finally{n.f()}return Object.values(a)}(e.data),n=e.data.map((function(e){return e.metric.queue}));return Object(de.jsx)(An.a,{height:260,children:Object(de.jsxs)(Nr.a,{data:a,children:[Object(de.jsx)(Rn.a,{strokeDasharray:"3 3"}),Object(de.jsx)(wn.a,{minTickGap:10,dataKey:"timestamp",domain:[e.startTime,e.endTime],tickFormatter:function(e){return new Date(1e3*e).toLocaleTimeString()},type:"number",scale:"time",stroke:t.palette.text.secondary}),Object(de.jsx)(In.a,{tickFormatter:e.yAxisTickFormatter,stroke:t.palette.text.secondary}),Object(de.jsx)(qn.a,{labelFormatter:function(e){return new Date(1e3*e).toLocaleTimeString()}}),Object(de.jsx)(Nn.a,{}),n.map((function(e,t){return Object(de.jsx)(Pr.a,{type:"monotone",dataKey:e,stroke:Jl[t%Jl.length],dot:!1},e)}))]})})}Zl.defaultProps={yAxisTickFormatter:function(e){return e.toString()}};var $l=Zl,Xl=a(644),ed=a(733),td=a(724),ad=a(725),nd=a(716),rd=a(645),cd=a(717),sd=a(361),id=a.n(sd),od=a(362),ud=a.n(od),ld=a(360),dd=a.n(ld),jd=a(359),bd=a.n(jd);function pd(e){return{pollInterval:e.settings.pollInterval}}Object(o.b)(pd);var Od=Object(p.a)((function(e){return{root:{display:"flex",alignItems:"center"},endTimeCaption:{marginRight:e.spacing(1)},shiftButtons:{marginLeft:e.spacing(1)},buttonGroupRoot:{height:29,position:"relative",top:1},endTimeShiftControls:{padding:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"center",borderBottomColor:e.palette.divider,borderBottomWidth:1,borderBottomStyle:"solid"},leftShiftButtons:{display:"flex",alignItems:"center",marginRight:e.spacing(2)},rightShiftButtons:{display:"flex",alignItems:"center",marginLeft:e.spacing(2)},controlsContainer:{display:"flex",justifyContent:"flex-end"},controlSelectorBox:{display:"flex",minWidth:490,padding:e.spacing(2)},controlEndTimeSelector:{width:"50%"},controlDurationSelector:{width:"50%"},radioButtonRoot:{paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},formControlLabel:{fontSize:14},buttonLabel:{textTransform:"none",fontSize:12},formControlRoot:{width:"100%",margin:0},formLabel:{fontSize:14,fontWeight:500,marginBottom:e.spacing(1)},customInputField:{marginTop:e.spacing(1)},filterButton:{marginLeft:e.spacing(1)},queueFilters:{padding:e.spacing(2),maxHeight:400},checkbox:{padding:6}}})),hd=86400;function gd(e){var t=new Date(1e3*e).toLocaleTimeString("en-us",{timeZoneName:"short"}).split(" ")[2];return bd.a.unix(e).format("ddd, DD MMM YYYY HH:mm:ss ")+t}function fd(e){var t=Od();return Object(de.jsx)(ad.a,{classes:{label:t.formControlLabel},value:e.value,control:Object(de.jsx)(ed.a,{size:"small",classes:{root:t.radioButtonRoot}}),label:e.label})}var md=Object(p.a)((function(e){return{root:{minWidth:40,fontWeight:function(e){return e.dense?400:500}},label:{fontSize:12,textTransform:"none"},iconRoot:{marginRight:function(e){return"left"===e.direction?e.dense?-8:-4:0},marginLeft:function(e){return"right"===e.direction?e.dense?-8:-4:0},color:function(t){return t.color?t.color:e.palette.grey[Mr(e)?200:700]}}}}));function xd(e){var t=md(e);return Object(de.jsxs)(ar.a,Object(l.a)(Object(l.a)({},e),{},{classes:{root:t.root,label:t.label},size:"small",children:["left"===e.direction&&Object(de.jsx)(id.a,{classes:{root:t.iconRoot}}),e.text,"right"===e.direction&&Object(de.jsx)(ud.a,{classes:{root:t.iconRoot}})]}))}xd.defaultProps={dense:!1};var vd=Object(o.b)(pd)((function(e){var t=Od(),a=r.a.useState(function(e,t){var a="real_time",n="",r="1h",c="",s=un();switch(s<=e&&e<=s+1?a="real_time":(a="custom",n=new Date(1e3*e).toISOString()),t){case 3600:r="1h";break;case 21600:r="6h";break;case 86400:r="1d";break;case 8*hd:r="8d";break;case 30*hd:r="30d";break;default:r="custom",c=t+"s"}return{endTimeOption:a,customEndTime:n,customEndTimeError:"",durationOption:r,customDuration:c,customDurationError:""}}(e.endTimeSec,e.durationSec)),n=Object(Gn.a)(a,2),c=n[0],s=n[1],i=r.a.useState(null),o=Object(Gn.a)(i,2),u=o[0],d=o[1],j=r.a.useState(null),b=Object(Gn.a)(j,2),p=b[0],O=b[1],h=Boolean(u),g=Boolean(p);r.a.useEffect((function(){if("real_time"===c.endTimeOption){var t=setInterval((function(){e.onEndTimeChange(un(),!1)}),1e3*e.pollInterval);return function(){return clearInterval(t)}}}));var f=function(t){return function(){var a=un(),n=e.endTimeSec+t;if(a<=n)return s((function(e){return Object(l.a)(Object(l.a)({},e),{},{customEndTime:"",endTimeOption:"real_time"})})),void e.onEndTimeChange(a,!1);s((function(e){return Object(l.a)(Object(l.a)({},e),{},{endTimeOption:"custom",customEndTime:new Date(1e3*n).toISOString()})})),e.onEndTimeChange(n,!0)}};return Object(de.jsxs)("div",{className:t.root,children:[Object(de.jsx)(fe.a,{variant:"caption",color:"textPrimary",className:t.endTimeCaption,children:gd(e.endTimeSec)}),Object(de.jsxs)("div",{children:[Object(de.jsxs)(ar.a,{"aria-describedby":h?"time-popover":void 0,variant:"outlined",color:"primary",onClick:function(e){d(e.currentTarget)},size:"small",classes:{label:t.buttonLabel},children:["real_time"===c.endTimeOption?"Realtime":"Historical",":"," ","custom"===c.durationOption?c.customDuration:c.durationOption]}),Object(de.jsxs)(Xl.a,{id:h?"time-popover":void 0,open:h,anchorEl:u,onClose:function(){d(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(de.jsxs)("div",{className:t.endTimeShiftControls,children:[Object(de.jsxs)("div",{className:t.leftShiftButtons,children:[Object(de.jsx)(xd,{direction:"left",text:"2h",onClick:f(-7200),dense:!0}),Object(de.jsx)(xd,{direction:"left",text:"1h",onClick:f(-3600),dense:!0}),Object(de.jsx)(xd,{direction:"left",text:"30m",onClick:f(-1800),dense:!0}),Object(de.jsx)(xd,{direction:"left",text:"15m",onClick:f(-900),dense:!0}),Object(de.jsx)(xd,{direction:"left",text:"5m",onClick:f(-300),dense:!0})]}),Object(de.jsxs)("div",{className:t.rightShiftButtons,children:[Object(de.jsx)(xd,{direction:"right",text:"5m",onClick:f(300),dense:!0}),Object(de.jsx)(xd,{direction:"right",text:"15m",onClick:f(900),dense:!0}),Object(de.jsx)(xd,{direction:"right",text:"30m",onClick:f(1800),dense:!0}),Object(de.jsx)(xd,{direction:"right",text:"1h",onClick:f(3600),dense:!0}),Object(de.jsx)(xd,{direction:"right",text:"2h",onClick:f(7200),dense:!0})]})]}),Object(de.jsxs)("div",{className:t.controlSelectorBox,children:[Object(de.jsx)("div",{className:t.controlEndTimeSelector,children:Object(de.jsxs)(nd.a,{component:"fieldset",margin:"dense",classes:{root:t.formControlRoot},children:[Object(de.jsx)(cd.a,{className:t.formLabel,component:"legend",children:"End Time"}),Object(de.jsxs)(td.a,{"aria-label":"end_time",name:"end_time",value:c.endTimeOption,onChange:function(t){var a=t.target.value;switch(s((function(e){return Object(l.a)(Object(l.a)({},e),{},{endTimeOption:a,customEndTime:"",customEndTimeError:""})})),a){case"real_time":e.onEndTimeChange(un(),!1);break;case"freeze_at_now":e.onEndTimeChange(un(),!0)}},children:[Object(de.jsx)(fd,{value:"real_time",label:"Real Time"}),Object(de.jsx)(fd,{value:"freeze_at_now",label:"Freeze at now"}),Object(de.jsx)(fd,{value:"custom",label:"Custom End Time"})]}),Object(de.jsx)("div",{className:t.customInputField,children:Object(de.jsx)(Au.a,{id:"custom-endtime",label:"yyyy-mm-dd hh:mm:ssz",variant:"outlined",size:"small",onChange:function(e){e.persist(),s((function(t){return Object(l.a)(Object(l.a)({},t),{},{customEndTime:e.target.value})}))},value:c.customEndTime,onKeyDown:function(t){if("Enter"===t.key){var a=Date.parse(c.customEndTime);if(isNaN(a))return void s((function(e){return Object(l.a)(Object(l.a)({},e),{},{customEndTimeError:"End time invalid"})}));s((function(e){return Object(l.a)(Object(l.a)({},e),{},{endTimeOption:"custom",customEndTimeError:""})})),e.onEndTimeChange(Math.floor(a/1e3),!0)}},error:""!==c.customEndTimeError,helperText:c.customEndTimeError})})]})}),Object(de.jsx)("div",{className:t.controlDurationSelector,children:Object(de.jsxs)(nd.a,{component:"fieldset",margin:"dense",classes:{root:t.formControlRoot},children:[Object(de.jsx)(cd.a,{className:t.formLabel,component:"legend",children:"Duration"}),Object(de.jsxs)(td.a,{"aria-label":"duration",name:"duration",value:c.durationOption,onChange:function(t){var a=t.target.value;s((function(e){return Object(l.a)(Object(l.a)({},e),{},{durationOption:a,customDuration:"",customDurationError:""})}));var n="real_time"!==c.endTimeOption;switch(a){case"1h":e.onDurationChange(3600,n);break;case"6h":e.onDurationChange(21600,n);break;case"1d":e.onDurationChange(86400,n);break;case"8d":e.onDurationChange(8*hd,n);break;case"30d":e.onDurationChange(30*hd,n)}},children:[Object(de.jsx)(fd,{value:"1h",label:"1h"}),Object(de.jsx)(fd,{value:"6h",label:"6h"}),Object(de.jsx)(fd,{value:"1d",label:"1 day"}),Object(de.jsx)(fd,{value:"8d",label:"8 days"}),Object(de.jsx)(fd,{value:"30d",label:"30 days"}),Object(de.jsx)(fd,{value:"custom",label:"Custom Duration"})]}),Object(de.jsx)("div",{className:t.customInputField,children:Object(de.jsx)(Au.a,{id:"custom-duration",label:"duration",variant:"outlined",size:"small",onChange:function(e){e.persist(),s((function(t){return Object(l.a)(Object(l.a)({},t),{},{customDuration:e.target.value})}))},value:c.customDuration,onKeyDown:function(t){if("Enter"===t.key)try{var a=function(e){if(!ln.test(e))throw new Error("invalid duration");var t=parseFloat(e.slice(0,-1));switch(e.slice(-1)){case"s":return t;case"m":return 60*t;case"h":return 60*t*60;default:throw new Error("invalid duration unit")}}(c.customDuration);s((function(e){return Object(l.a)(Object(l.a)({},e),{},{durationOption:"custom",customDurationError:""})})),e.onDurationChange(a,"real_time"!==c.endTimeOption)}catch(n){s((function(e){return Object(l.a)(Object(l.a)({},e),{},{customDurationError:"Duration invalid"})}))}},error:""!==c.customDurationError,helperText:c.customDurationError})})]})})]})]})]}),Object(de.jsx)("div",{className:t.shiftButtons,children:Object(de.jsxs)(vr.a,{classes:{root:t.buttonGroupRoot},size:"small",color:"primary","aria-label":"shift buttons",children:[Object(de.jsx)(xd,{direction:"left",text:"custom"===c.durationOption?"1h":c.durationOption,color:"primary",onClick:"custom"===c.durationOption?f(-3600):f(-e.durationSec)}),Object(de.jsx)(xd,{direction:"right",text:"custom"===c.durationOption?"1h":c.durationOption,color:"primary",onClick:"custom"===c.durationOption?f(3600):f(e.durationSec)})]})}),Object(de.jsxs)("div",{className:t.filterButton,children:[Object(de.jsx)(T.a,{"aria-label":"filter",size:"small",onClick:function(e){O(e.currentTarget)},children:Object(de.jsx)(dd.a,{})}),Object(de.jsx)(Xl.a,{id:g?"queue-popover":void 0,open:g,anchorEl:p,onClose:function(){O(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(de.jsxs)(nd.a,{className:t.queueFilters,children:[Object(de.jsx)(cd.a,{className:t.formLabel,component:"legend",children:"Queues"}),Object(de.jsx)(rd.a,{children:e.queues.map((function(a){return Object(de.jsx)(ad.a,{control:Object(de.jsx)(Rc.a,{size:"small",checked:e.selectedQueues.includes(a),onChange:function(){e.selectedQueues.includes(a)?e.removeQueue(a):e.addQueue(a)},name:a,className:t.checkbox}),label:a,classes:{label:t.formControlLabel}},a)}))})]})})]})]})})),kd=Object(p.a)((function(e){return{container:{marginTop:30,paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},controlsContainer:{display:"flex",justifyContent:"flex-end",position:"fixed",background:e.palette.background.paper,zIndex:e.zIndex.appBar,right:0,top:64,width:"100%",padding:e.spacing(2)},chartInfo:{display:"flex",alignItems:"center",marginBottom:e.spacing(1)},infoIcon:{marginLeft:e.spacing(1),color:e.palette.grey[500],cursor:"pointer"},errorMessage:{marginLeft:"auto",display:"flex",alignItems:"center"},warningIcon:{color:"#ff6700",marginRight:6}}}));var yd=Object(o.b)((function(e){return{loading:e.metrics.loading,error:e.metrics.error,data:e.metrics.data,pollInterval:e.settings.pollInterval,queues:e.queues.data.map((function(e){return e.name}))}}),{getMetricsAsync:function(e,t,a){return function(){var n=Object(Te.a)(Se.a.mark((function n(r){var c;return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:Ql}),n.prev=1,n.next=4,Wa(e,t,a);case 4:c=n.sent,r({type:Yl,payload:c}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("getMetricsAsync: ".concat(Za(n.t0))),r({type:Wl,error:$a(n.t0)});case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},listQueuesAsync:yn}),Sd="end",Td="duration";var _d=yd((function(e){var t=kd(),a=Object(b.f)(),n=Ir(),c=n.get(Sd),s=c?parseFloat(c):un(),i=n.get(Td),o=i?parseFloat(i):3600,d=e.pollInterval,j=e.getMetricsAsync,p=e.listQueuesAsync,O=e.data,h=r.a.useState(s),g=Object(Gn.a)(h,2),f=g[0],m=g[1],x=r.a.useState(o),v=Object(Gn.a)(x,2),k=v[0],y=v[1],S=r.a.useState([]),T=Object(Gn.a)(S,2),_=T[0],E=T[1];return r.a.useEffect((function(){p()}),[p]),r.a.useEffect((function(){j(f,k,_)}),[d,j,k,f,_]),Object(de.jsxs)(Oe.a,{maxWidth:"lg",className:t.container,children:[Object(de.jsx)("div",{className:t.controlsContainer,children:Object(de.jsx)(vd,{endTimeSec:f,onEndTimeChange:function(e,t){var n,r=t?(n={},Object(u.a)(n,Sd,e),Object(u.a)(n,Td,k),n):Object(u.a)({},Td,k);a.push(Object(l.a)(Object(l.a)({},a.location),{},{search:Ce.a.stringify(r)})),m(e)},durationSec:k,onDurationChange:function(e,t){var n,r=t?(n={},Object(u.a)(n,Sd,f),Object(u.a)(n,Td,e),n):Object(u.a)({},Td,e);a.push(Object(l.a)(Object(l.a)({},a.location),{},{search:Ce.a.stringify(r)})),y(e)},queues:e.queues,selectedQueues:0===_.length?e.queues:_,addQueue:function(e){_.includes(e)||E(_.concat(e))},removeQueue:function(t){1!==_.length&&(0!==_.length?E(_.filter((function(e){return e!==t}))):E(e.queues.filter((function(e){return e!==t}))))}})}),Object(de.jsxs)(he.a,{container:!0,spacing:3,children:[(null===O||void 0===O?void 0:O.tasks_processed_per_second)&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(Ed,{title:"Tasks Processed",description:"Number of tasks processed (both succeeded and failed) per second.",metrics:O.tasks_processed_per_second,endTime:f,startTime:f-k})}),(null===O||void 0===O?void 0:O.tasks_failed_per_second)&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(Ed,{title:"Tasks Failed",description:"Number of tasks failed per second.",metrics:O.tasks_failed_per_second,endTime:f,startTime:f-k})}),(null===O||void 0===O?void 0:O.error_rate)&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(Ed,{title:"Error Rate",description:"Rate of task failures",metrics:O.error_rate,endTime:f,startTime:f-k})}),(null===O||void 0===O?void 0:O.queue_size)&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(Ed,{title:"Queue Size",description:"Total number of tasks in a given queue.",metrics:O.queue_size,endTime:f,startTime:f-k})}),(null===O||void 0===O?void 0:O.queue_latency_seconds)&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(Ed,{title:"Queue Latency",description:"Latency of queue, measured by the oldest pending task in the queue.",metrics:O.queue_latency_seconds,endTime:f,startTime:f-k,yAxisTickFormatter:function(e){return e+"s"}})}),(null===O||void 0===O?void 0:O.queue_size)&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(Ed,{title:"Queue Memory Usage (approx)",description:"Memory usage by queue. Approximate value by sampling a few tasks in a queue.",metrics:O.queue_memory_usage_approx_bytes,endTime:f,startTime:f-k,yAxisTickFormatter:function(e){try{return jr()(e)}catch(t){return e+"B"}}})}),(null===O||void 0===O?void 0:O.pending_tasks_by_queue)&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(Ed,{title:"Pending Tasks",description:"Number of pending tasks in a given queue.",metrics:O.pending_tasks_by_queue,endTime:f,startTime:f-k})}),(null===O||void 0===O?void 0:O.retry_tasks_by_queue)&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(Ed,{title:"Retry Tasks",description:"Number of retry tasks in a given queue.",metrics:O.retry_tasks_by_queue,endTime:f,startTime:f-k})}),(null===O||void 0===O?void 0:O.archived_tasks_by_queue)&&Object(de.jsx)(he.a,{item:!0,xs:12,children:Object(de.jsx)(Ed,{title:"Archived Tasks",description:"Number of archived tasks in a given queue.",metrics:O.archived_tasks_by_queue,endTime:f,startTime:f-k})})]})]})}));function Ed(e){var t,a=kd();return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)("div",{className:a.chartInfo,children:[Object(de.jsx)(fe.a,{color:"textPrimary",children:e.title}),Object(de.jsx)(xr,{title:Object(de.jsx)("div",{children:e.description}),children:Object(de.jsx)(xe.a,{fontSize:"small",className:a.infoIcon})}),"error"===e.metrics.status&&Object(de.jsxs)("div",{className:a.errorMessage,children:[Object(de.jsx)(Fl.a,{fontSize:"small",className:a.warningIcon}),Object(de.jsxs)(fe.a,{color:"textSecondary",children:["Failed to get metrics data: ",e.metrics.error]})]})]}),Object(de.jsx)($l,{data:"error"===e.metrics.status?[]:(null===(t=e.metrics.data)||void 0===t?void 0:t.result)||[],endTime:e.endTime,startTime:e.startTime,yAxisTickFormatter:e.yAxisTickFormatter})]})}var Ad=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},headingText:{fontWeight:"bold"}}}));function Cd(){var e=Ad();return Object(de.jsx)(Oe.a,{maxWidth:"lg",className:e.container,children:Object(de.jsx)(he.a,{container:!0,spacing:3,children:Object(de.jsxs)(he.a,{item:!0,xs:12,children:[Object(de.jsx)(fe.a,{variant:"h5",align:"center",className:e.headingText,children:"Oops!"}),Object(de.jsx)(fe.a,{variant:"subtitle1",color:"textSecondary",align:"center",children:"404 - Page Not Found"})]})})})}var Rd={closeSnackbar:function(){return{type:Fr}},toggleDrawer:function(){return{type:Z}}};function wd(e){return Object(de.jsx)(_.a,Object(l.a)(Object(l.a)({},e),{},{direction:"up"}))}var Id=Object(o.b)((function(e){return{snackbar:e.snackbar,themePreference:e.settings.themePreference,isDrawerOpen:e.settings.isDrawerOpen}}),Rd)((function(e){var t=function(e){var t=Object(Vr.a)("(prefers-color-scheme: dark)");return e===Ur.Always?t=!0:e===Ur.Never&&(t=!1),Object(Y.a)({palette:{primary:{main:"#4379FF"},secondary:{main:"#97FBD1"},background:{default:"#f5f7f9"},type:t?"dark":"light"}})}(e.themePreference),a=function(e){return Object(p.a)({root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{backgroundColor:e.palette.background.paper,zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(1),color:Mr(e)?e.palette.grey[100]:e.palette.grey[700]},menuButtonHidden:{display:"none"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:220,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),border:"none"},drawerPaperClose:Object(u.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),snackbar:{background:e.palette.grey.A400,color:"#ffffff"},snackbarCloseIcon:{color:e.palette.grey[400]},appBarSpacer:e.mixins.toolbar,mainContainer:{display:"flex",width:"100vw"},content:{flex:1,height:"100vh",overflow:"hidden",background:e.palette.background.paper},contentWrapper:{height:"100%",display:"flex",paddingTop:"64px",overflow:"scroll"},sidebarContainer:{display:"flex",justifyContent:"space-between",height:"100%",flexDirection:"column"},listItem:{borderTopRightRadius:"24px",borderBottomRightRadius:"24px"}})}(t)(),n=M();return Object(de.jsx)(O.a,{theme:t,children:Object(de.jsx)(j.a,{children:Object(de.jsxs)("div",{className:a.root,children:[Object(de.jsx)(h.a,{position:"absolute",className:a.appBar,variant:"outlined",children:Object(de.jsx)(f.a,{className:a.toolbar,children:Object(de.jsx)(T.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:e.toggleDrawer,className:a.menuButton,children:Object(de.jsx)(A.a,{})})})}),Object(de.jsxs)("div",{className:a.mainContainer,children:[Object(de.jsxs)(g.a,{variant:"permanent",classes:{paper:Object(d.default)(a.drawerPaper,!e.isDrawerOpen&&a.drawerPaperClose)},open:e.isDrawerOpen,children:[Object(de.jsx)(y.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.snackbar.isOpen,autoHideDuration:6e3,onClose:e.closeSnackbar,TransitionComponent:wd,children:Object(de.jsx)(S.a,{message:e.snackbar.message,className:a.snackbar,action:Object(de.jsx)(T.a,{size:"small","aria-label":"close",color:"inherit",onClick:e.closeSnackbar,children:Object(de.jsx)(V.a,{className:a.snackbarCloseIcon,fontSize:"small"})})})}),Object(de.jsx)("div",{className:a.appBarSpacer}),Object(de.jsxs)("div",{className:a.sidebarContainer,children:[Object(de.jsx)(m.a,{children:Object(de.jsxs)("div",{children:[Object(de.jsx)(Yr,{to:n.HOME,primary:"Queues",icon:Object(de.jsx)(R.a,{})}),Object(de.jsx)(Yr,{to:n.SERVERS,primary:"Servers",icon:Object(de.jsx)(K.a,{})}),Object(de.jsx)(Yr,{to:n.SCHEDULERS,primary:"Schedulers",icon:Object(de.jsx)(D.a,{})}),Object(de.jsx)(Yr,{to:n.REDIS,primary:"Redis",icon:Object(de.jsx)(I.a,{})}),window.PROMETHEUS_SERVER_ADDRESS&&Object(de.jsx)(Yr,{to:n.QUEUE_METRICS,primary:"Metrics",icon:Object(de.jsx)(U.a,{})})]})}),Object(de.jsxs)(m.a,{children:[Object(de.jsx)(Yr,{to:n.SETTINGS,primary:"Settings",icon:Object(de.jsx)(N.a,{})}),Object(de.jsxs)(x.a,{button:!0,component:"a",className:a.listItem,href:"https://github.com/hibiken/asynqmon/issues",target:"_blank",children:[Object(de.jsx)(v.a,{children:Object(de.jsx)(G.a,{})}),Object(de.jsx)(k.a,{primary:"Send Feedback"})]})]})]})]}),Object(de.jsx)("main",{className:a.content,children:Object(de.jsx)("div",{className:a.contentWrapper,children:Object(de.jsxs)(b.c,{children:[Object(de.jsx)(b.a,{exact:!0,path:n.TASK_DETAILS,children:Object(de.jsx)(il,{})}),Object(de.jsx)(b.a,{exact:!0,path:n.QUEUE_DETAILS,children:Object(de.jsx)(al,{})}),Object(de.jsx)(b.a,{exact:!0,path:n.SCHEDULERS,children:Object(de.jsx)(Sc,{})}),Object(de.jsx)(b.a,{exact:!0,path:n.SERVERS,children:Object(de.jsx)(Il,{})}),Object(de.jsx)(b.a,{exact:!0,path:n.REDIS,children:Object(de.jsx)(Vl,{})}),Object(de.jsx)(b.a,{exact:!0,path:n.SETTINGS,children:Object(de.jsx)(Ol,{})}),Object(de.jsx)(b.a,{exact:!0,path:n.HOME,children:Object(de.jsx)(Hr,{})}),Object(de.jsx)(b.a,{exact:!0,path:n.QUEUE_METRICS,children:Object(de.jsx)(_d,{})}),Object(de.jsx)(b.a,{path:"*",children:Object(de.jsx)(Cd,{})})]})})})]})]})})})})),qd=a(95),Nd=a(376),Pd={data:[],loading:!1,error:""};var Dd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dn:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case jn:var a=t.payload.queues;return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:"",data:a.map((function(e){return{name:e.queue,currentStats:e,requestPending:!1}}))});case bn:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});case pn:case gn:case xn:var n=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!0})}));return Object(l.a)(Object(l.a)({},e),{},{data:n});case On:var r=e.data.filter((function(e){return e.name!==t.queue}));return Object(l.a)(Object(l.a)({},e),{},{data:r});case fn:var c=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1,currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{paused:!0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:c});case vn:var s=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1,currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{paused:!1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:s});case hn:case mn:case kn:var i=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}));return Object(l.a)(Object(l.a)({},e),{},{data:i});case Bc:case Kc:case ns:case Mc:case Yc:case Zc:var o=e.data.filter((function(e){return e.name!==t.queue})).concat({name:t.queue,currentStats:t.payload.stats,requestPending:!1});return Object(l.a)(Object(l.a)({},e),{},{data:o});case Bs:var u=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+1,aggregating:e.currentStats.aggregating-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:u});case Os:var d=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+1,scheduled:e.currentStats.scheduled-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:d});case fs:var j=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+1,retry:e.currentStats.retry-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:j});case vs:var b=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+1,archived:e.currentStats.archived-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:b});case Es:var p=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+1,pending:e.currentStats.pending-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:p});case Ms:var O=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+1,aggregating:e.currentStats.aggregating-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:O});case qs:var h=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+1,scheduled:e.currentStats.scheduled-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:h});case Ds:var g=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+1,retry:e.currentStats.retry-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:g});case Ss:var f=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-1,pending:e.currentStats.pending-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:f});case Rs:var m=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-1,scheduled:e.currentStats.scheduled-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:m});case Ks:var x=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-1,aggregating:e.currentStats.aggregating-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:x});case Ys:var v=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+t.payload.archived_ids.length,pending:e.currentStats.pending-t.payload.archived_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:v});case Zs:var k=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.payload.deleted_ids.length,pending:e.currentStats.pending-t.payload.deleted_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:k});case ni:var y=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+e.currentStats.pending,pending:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:y});case Ao:var S=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{groups:e.currentStats.groups-1,archived:e.currentStats.archived+t.archived,aggregating:e.currentStats.aggregating-t.archived})})}));return Object(l.a)(Object(l.a)({},e),{},{data:S});case ei:var T=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.deleted,pending:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:T});case si:var _=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+t.payload.pending_ids.length,scheduled:e.currentStats.scheduled-t.payload.pending_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:_});case ui:var E=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+t.payload.archived_ids.length,scheduled:e.currentStats.scheduled-t.payload.archived_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:E});case ji:var A=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.payload.deleted_ids.length,scheduled:e.currentStats.scheduled-t.payload.deleted_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:A});case To:var C=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{groups:e.currentStats.groups-1,pending:e.currentStats.pending+t.scheduled,aggregating:e.currentStats.aggregating-t.scheduled})})}));return Object(l.a)(Object(l.a)({},e),{},{data:C});case Oi:var R=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+e.currentStats.scheduled,scheduled:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:R});case fi:var w=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+e.currentStats.scheduled,scheduled:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:w});case wo:var I=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.deleted,groups:e.currentStats.groups-1,aggregating:e.currentStats.aggregating-t.deleted})})}));return Object(l.a)(Object(l.a)({},e),{},{data:I});case vi:var q=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.deleted,scheduled:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:q});case Si:var N=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-1,retry:e.currentStats.retry-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:N});case Ei:var P=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+t.payload.pending_ids.length,retry:e.currentStats.retry-t.payload.pending_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:P});case Ri:var D=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.pending+t.payload.archived_ids.length,retry:e.currentStats.retry-t.payload.archived_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:D});case qi:var L=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.payload.deleted_ids.length,retry:e.currentStats.retry-t.payload.deleted_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:L});case ho:var G=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+t.payload.pending_ids.length,aggregating:e.currentStats.aggregating-t.payload.pending_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:G});case mo:var B=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+t.payload.archived_ids.length,aggregating:e.currentStats.aggregating-t.payload.archived_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:B});case ko:var U=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.payload.deleted_ids.length,aggregating:e.currentStats.aggregating-t.payload.deleted_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:U});case Di:var H=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+e.currentStats.retry,retry:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:H});case Bi:var K=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{archived:e.currentStats.archived+e.currentStats.retry,retry:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:K});case Ki:var z=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.deleted,retry:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:z});case Mi:var V=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-1,archived:e.currentStats.archived-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:V});case so:var M=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-1,completed:e.currentStats.completed-1})})}));return Object(l.a)(Object(l.a)({},e),{},{data:M});case Yi:var F=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+t.payload.pending_ids.length,archived:e.currentStats.archived-t.payload.pending_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:F});case Zi:var Q=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.payload.deleted_ids.length,archived:e.currentStats.archived-t.payload.deleted_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:Q});case bo:var Y=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.payload.deleted_ids.length,completed:e.currentStats.completed-t.payload.deleted_ids.length})})}));return Object(l.a)(Object(l.a)({},e),{},{data:Y});case eo:var W=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{pending:e.currentStats.pending+e.currentStats.archived,archived:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:W});case no:var J=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.deleted,archived:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:J});case uo:var Z=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:Object(l.a)(Object(l.a)({},e.currentStats),{},{size:e.currentStats.size-t.deleted,completed:0})})}));return Object(l.a)(Object(l.a)({},e),{},{data:Z});case vu:var $=e.data.map((function(e){return e.name!==t.queue?e:Object(l.a)(Object(l.a)({},e),{},{currentStats:t.payload.stats})}));return Object(l.a)(Object(l.a)({},e),{},{data:$});default:return e}},Ld={activeTasks:{loading:!1,batchActionPending:!1,allActionPending:!1,error:"",data:[]},pendingTasks:{loading:!1,batchActionPending:!1,allActionPending:!1,error:"",data:[]},scheduledTasks:{loading:!1,batchActionPending:!1,allActionPending:!1,error:"",data:[]},retryTasks:{loading:!1,batchActionPending:!1,allActionPending:!1,error:"",data:[]},archivedTasks:{loading:!1,batchActionPending:!1,allActionPending:!1,error:"",data:[]},completedTasks:{loading:!1,batchActionPending:!1,allActionPending:!1,error:"",data:[]},aggregatingTasks:{group:"",loading:!1,batchActionPending:!1,allActionPending:!1,error:"",data:[]},taskInfo:{loading:!1,error:""}};var Gd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ld,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pc:return Object(l.a)(Object(l.a)({},e),{},{taskInfo:Object(l.a)(Object(l.a)({},e.taskInfo),{},{loading:!0})});case Lc:return Object(l.a)(Object(l.a)({},e),{},{taskInfo:{loading:!1,error:t.error}});case Dc:return Object(l.a)(Object(l.a)({},e),{},{taskInfo:{loading:!1,error:"",data:t.payload}});case Gc:return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{loading:!0})});case Bc:return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{loading:!1,error:"",data:t.payload.tasks.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{canceling:!1,requestPending:!1})}))})});case Uc:return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{loading:!1,error:t.error,data:[]})});case Hc:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{loading:!0})});case Kc:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{loading:!1,error:"",data:t.payload.tasks.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case zc:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{loading:!1,error:t.error,data:[]})});case Vc:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{loading:!0})});case Mc:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{loading:!1,error:"",data:t.payload.tasks.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case Fc:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{loading:!1,error:t.error,data:[]})});case Qc:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{loading:!0})});case Yc:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{loading:!1,error:"",data:t.payload.tasks.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case Wc:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{loading:!1,error:t.error,data:[]})});case Jc:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{loading:!0})});case Zc:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{loading:!1,error:"",data:t.payload.tasks.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case $c:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{loading:!1,error:t.error,data:[]})});case Xc:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{loading:!0})});case es:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{loading:!1,error:"",data:t.payload.tasks.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case ts:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{loading:!1,error:t.error,data:[]})});case as:return Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{group:t.group,loading:!0})});case ns:return Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{group:t.group,loading:!1,error:"",data:t.payload.tasks.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case rs:return Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{group:t.group,loading:!1,error:t.error,data:[]})});case co:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{data:e.completedTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!0})}))})});case so:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{data:e.completedTasks.data.filter((function(e){return e.id!==t.taskId}))})});case io:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{data:e.completedTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case oo:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{allActionPending:!0})});case uo:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{allActionPending:!1,data:[]})});case lo:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{allActionPending:!1})});case jo:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{batchActionPending:!0,data:e.completedTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!0}):e}))})});case bo:var a=e.completedTasks.data.filter((function(e){return!t.payload.deleted_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{batchActionPending:!1,data:a})});case po:return Object(l.a)(Object(l.a)({},e),{},{completedTasks:Object(l.a)(Object(l.a)({},e.completedTasks),{},{batchActionPending:!1,data:e.completedTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!1}):e}))})});case cs:var n=e.activeTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!0})}));return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{data:n})});case ss:var r=e.activeTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1,canceling:!0})}));return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{data:r})});case is:var c=e.activeTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}));return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{data:c})});case ds:var s=e.activeTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!0}):e}));return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{batchActionPending:!0,data:s})});case js:var i=e.activeTasks.data.map((function(e){return t.payload.canceled_ids.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{canceling:!0,requestPending:!1}):t.payload.error_ids.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!1}):e}));return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{batchActionPending:!1,data:i})});case bs:var o=e.activeTasks.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}));return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{batchActionPending:!1,data:o})});case os:var u=e.activeTasks.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!0})}));return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{allActionPending:!0,data:u})});case us:var d=e.activeTasks.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!1,canceling:!0})}));return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{allActionPending:!1,data:d})});case ls:var j=e.activeTasks.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}));return Object(l.a)(Object(l.a)({},e),{},{activeTasks:Object(l.a)(Object(l.a)({},e.activeTasks),{},{allActionPending:!1,data:j})});case _s:case ys:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{data:e.pendingTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!0})}))})});case Es:case Ss:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{data:e.pendingTasks.data.filter((function(e){return e.id!==t.taskId}))})});case As:case Ts:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{data:e.pendingTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case ai:case Xs:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{allActionPending:!0})});case ni:case ei:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{allActionPending:!1,data:[]})});case ri:case ti:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{allActionPending:!1})});case Qs:case Js:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{batchActionPending:!0,data:e.pendingTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!0}):e}))})});case Ys:var b=e.pendingTasks.data.filter((function(e){return!t.payload.archived_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{batchActionPending:!1,data:b})});case Zs:var p=e.pendingTasks.data.filter((function(e){return!t.payload.deleted_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{batchActionPending:!1,data:p})});case Ws:case $s:return Object(l.a)(Object(l.a)({},e),{},{pendingTasks:Object(l.a)(Object(l.a)({},e.pendingTasks),{},{batchActionPending:!1,data:e.pendingTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!1}):e}))})});case ps:case Is:case Cs:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{data:e.scheduledTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!0})}))})});case Os:case qs:case Rs:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{data:e.scheduledTasks.data.filter((function(e){return e.id!==t.taskId}))})});case hs:case Ns:case ws:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{data:e.scheduledTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case pi:case gi:case xi:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{allActionPending:!0})});case Oi:case fi:case vi:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{allActionPending:!1,data:[]})});case hi:case mi:case ki:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{allActionPending:!1})});case ci:case oi:case di:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{batchActionPending:!0,data:e.scheduledTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!0}):e}))})});case si:var O=e.scheduledTasks.data.filter((function(e){return!t.payload.pending_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{batchActionPending:!1,data:O})});case ui:var h=e.scheduledTasks.data.filter((function(e){return!t.payload.archived_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{batchActionPending:!1,data:h})});case ji:var g=e.scheduledTasks.data.filter((function(e){return!t.payload.deleted_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{batchActionPending:!1,data:g})});case ii:case li:case bi:return Object(l.a)(Object(l.a)({},e),{},{scheduledTasks:Object(l.a)(Object(l.a)({},e.scheduledTasks),{},{batchActionPending:!1,data:e.scheduledTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!1}):e}))})});case Gs:case Vs:case Hs:return Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{data:e.aggregatingTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!0})}))})});case Us:case Fs:case zs:return Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{data:e.aggregatingTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case Bs:case Ms:case Ks:return Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{data:e.aggregatingTasks.data.filter((function(e){return e.id!==t.taskId}))})});case Oo:case fo:case vo:return t.group!==e.aggregatingTasks.group?e:Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{batchActionPending:!0,data:e.aggregatingTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!0}):e}))})});case go:case xo:case yo:return t.group!==e.aggregatingTasks.group?e:Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{batchActionPending:!1,data:e.scheduledTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!1}):e}))})});case ko:if(t.group!==e.aggregatingTasks.group)return e;var f=e.aggregatingTasks.data.filter((function(e){return!t.payload.deleted_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{batchActionPending:!1,data:f})});case ho:if(t.group!==e.aggregatingTasks.group)return e;var m=e.aggregatingTasks.data.filter((function(e){return!t.payload.pending_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{batchActionPending:!1,data:m})});case mo:if(t.group!==e.aggregatingTasks.group)return e;var x=e.aggregatingTasks.data.filter((function(e){return!t.payload.archived_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{batchActionPending:!1,data:x})});case gs:case Ps:case yi:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{data:e.retryTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!0})}))})});case fs:case Ds:case Si:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{data:e.retryTasks.data.filter((function(e){return e.id!==t.taskId}))})});case ms:case Ls:case Ti:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{data:e.retryTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case Pi:case Gi:case Hi:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{allActionPending:!0})});case Di:case Bi:case Ki:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{allActionPending:!1,data:[]})});case Li:case Ui:case zi:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{allActionPending:!1})});case _i:case Ci:case Ii:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{batchActionPending:!0,data:e.retryTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!0}):e}))})});case Ei:var v=e.retryTasks.data.filter((function(e){return!t.payload.pending_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{batchActionPending:!1,data:v})});case Ri:var k=e.retryTasks.data.filter((function(e){return!t.payload.archived_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{batchActionPending:!1,data:k})});case qi:var y=e.retryTasks.data.filter((function(e){return!t.payload.deleted_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{batchActionPending:!1,data:y})});case Ai:case wi:case Ni:return Object(l.a)(Object(l.a)({},e),{},{retryTasks:Object(l.a)(Object(l.a)({},e.retryTasks),{},{batchActionPending:!1,data:e.retryTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!1}):e}))})});case xs:case Vi:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{data:e.archivedTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!0})}))})});case vs:case Mi:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{data:e.archivedTasks.data.filter((function(e){return e.id!==t.taskId}))})});case ks:case Fi:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{data:e.archivedTasks.data.map((function(e){return e.id!==t.taskId?e:Object(l.a)(Object(l.a)({},e),{},{requestPending:!1})}))})});case Xi:case ao:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{allActionPending:!0})});case eo:case no:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{allActionPending:!1,data:[]})});case to:case ro:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{allActionPending:!1})});case Qi:case Ji:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{batchActionPending:!0,data:e.archivedTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!0}):e}))})});case Yi:var S=e.archivedTasks.data.filter((function(e){return!t.payload.pending_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{batchActionPending:!1,data:S})});case Zi:var T=e.archivedTasks.data.filter((function(e){return!t.payload.deleted_ids.includes(e.id)}));return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{batchActionPending:!1,data:T})});case Wi:case $i:return Object(l.a)(Object(l.a)({},e),{},{archivedTasks:Object(l.a)(Object(l.a)({},e.archivedTasks),{},{batchActionPending:!1,data:e.archivedTasks.data.map((function(e){return t.taskIds.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{requestPending:!1}):e}))})});case So:case Eo:case Ro:return e.aggregatingTasks.group!==t.group?e:Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{allActionPending:!0})});case To:case Ao:case wo:return e.aggregatingTasks.group!==t.group?e:Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{allActionPending:!1,data:[]})});case _o:case Co:case Io:return e.aggregatingTasks.group!==t.group?e:Object(l.a)(Object(l.a)({},e),{},{aggregatingTasks:Object(l.a)(Object(l.a)({},e.aggregatingTasks),{},{allActionPending:!1,error:t.error})});default:return e}},Bd={data:[],loading:!1,error:""};var Ud=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xu:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case ku:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});case vu:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:"",data:t.payload.groups});case ns:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.groups});default:return e}},Hd={loading:!1,error:"",data:[]};var Kd={isOpen:!1,message:""};var zd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fr:return Object(l.a)(Object(l.a)({},e),{},{isOpen:!1});case js:var a=t.payload.canceled_ids.length;return{isOpen:!0,message:"Cancelation signal sent to ".concat(a," ").concat(1===a?"task":"tasks")};case us:return{isOpen:!0,message:"Cancelation signal sent to all tasks in ".concat(t.queue," queue")};case Os:return{isOpen:!0,message:"Scheduled task is now pending"};case fs:return{isOpen:!0,message:"Retry task is now pending"};case vs:return{isOpen:!0,message:"Archived task is now pending"};case Bs:return{isOpen:!0,message:"Aggregating task is now pending"};case Es:return{isOpen:!0,message:"Pending task is now archived"};case qs:return{isOpen:!0,message:"Scheduled task is now archived"};case Ds:return{isOpen:!0,message:"Retry task is now archived"};case Ms:return{isOpen:!0,message:"Aggregating task is now archived"};case Ss:return{isOpen:!0,message:"Pending task deleted"};case Rs:return{isOpen:!0,message:"Scheduled task deleted"};case Ks:return{isOpen:!0,message:"Aggregating task deleted"};case si:var n=t.payload.pending_ids.length;return{isOpen:!0,message:"".concat(n," scheduled ").concat(1===n?"task is":"tasks are"," now pending")};case ho:var r=t.payload.pending_ids.length;return{isOpen:!0,message:"".concat(r," aggregating ").concat(1===r?"task is":"tasks are"," now pending")};case mo:var c=t.payload.archived_ids.length;return{isOpen:!0,message:"".concat(c," aggregating ").concat(1===c?"task is":"tasks are"," now archived")};case ko:var s=t.payload.deleted_ids.length;return{isOpen:!0,message:"".concat(s," aggregating ").concat(1===s?"task":"tasks"," deleted")};case Ys:var i=t.payload.archived_ids.length;return{isOpen:!0,message:"".concat(i," pending ").concat(1===i?"task is":"tasks are"," now archived")};case Zs:var o=t.payload.deleted_ids.length;return{isOpen:!0,message:"".concat(o," pending ").concat(1===o?"task":"tasks"," deleted")};case ui:var u=t.payload.archived_ids.length;return{isOpen:!0,message:"".concat(u," scheduled ").concat(1===u?"task is":"tasks are"," now archived")};case ji:var d=t.payload.deleted_ids.length;return{isOpen:!0,message:"".concat(d," scheduled ").concat(1===d?"task":"tasks"," deleted")};case ni:return{isOpen:!0,message:"All pending tasks are now archived"};case ei:return{isOpen:!0,message:"All pending tasks deleted"};case To:return{isOpen:!0,message:"All tasks in group ".concat(t.group,"  are now pending")};case Ao:return{isOpen:!0,message:"All tasks in group ".concat(t.group," are now archived")};case wo:return{isOpen:!0,message:"All tasks in group ".concat(t.group," deleted")};case Oi:return{isOpen:!0,message:"All scheduled tasks are now pending"};case fi:return{isOpen:!0,message:"All scheduled tasks are now archived"};case vi:return{isOpen:!0,message:"All scheduled tasks deleted"};case Si:return{isOpen:!0,message:"Retry task deleted"};case Ei:var j=t.payload.pending_ids.length;return{isOpen:!0,message:"".concat(j," retry ").concat(1===j?"task is":"tasks are"," now pending")};case Ri:var b=t.payload.archived_ids.length;return{isOpen:!0,message:"".concat(b," retry ").concat(1===b?"task is":"tasks are"," now archived")};case qi:var p=t.payload.deleted_ids.length;return{isOpen:!0,message:"".concat(p," retry ").concat(1===p?"task":"tasks"," deleted")};case Di:return{isOpen:!0,message:"All retry tasks are now pending"};case Bi:return{isOpen:!0,message:"All retry tasks are now archived"};case Ki:return{isOpen:!0,message:"All retry tasks deleted"};case Mi:return{isOpen:!0,message:"Archived task deleted"};case Yi:var O=t.payload.pending_ids.length;return{isOpen:!0,message:"".concat(O," archived ").concat(1===O?"task is":"tasks are"," now pending")};case Zi:var h=t.payload.deleted_ids.length;return{isOpen:!0,message:"".concat(h," archived ").concat(1===h?"task":"tasks"," deleted")};case eo:return{isOpen:!0,message:"All archived tasks are now pending"};case no:return{isOpen:!0,message:"All archived tasks deleted"};case so:return{isOpen:!0,message:"Completed task deleted"};case uo:return{isOpen:!0,message:"All completed tasks deleted"};case bo:var g=t.payload.deleted_ids.length;return{isOpen:!0,message:"".concat(g," completed ").concat(1===g?"task":"tasks"," deleted")};default:return e}},Vd={loading:!1,data:{}};function Md(e,t){var a=new Date(e),n=new Date(t);return a.getUTCDate()===n.getUTCDate()&&a.getUTCMonth()===n.getUTCMonth()&&a.getUTCFullYear()===n.getUTCFullYear()}var Fd={loading:!1,error:"",address:"",data:null,rawData:null,cluster:!1,rawClusterNodes:null,queueLocations:null};var Qd={loading:!1,error:"",data:null};var Yd="asynqmon:state";var Wd=Object(qd.b)({settings:zr,queues:Dd,tasks:Gd,groups:Ud,servers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Al:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Cl:return{loading:!1,error:"",data:t.payload.servers};case Rl:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},schedulerEntries:bc,snackbar:zd,queueStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tn:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case _n:return{data:t.payload.stats,loading:!1};case En:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});case jn:var a,n=Object(l.a)({},e.data),r=Object(qr.a)(t.payload.queues);try{var c=function(){var e=a.value,t=n[e.queue];if(!t)return"continue";var r=t.map((function(t){return Md(t.date,e.timestamp)?Object(l.a)(Object(l.a)({},t),{},{processed:e.processed,failed:e.failed}):t}));n[e.queue]=r};for(r.s();!(a=r.n()).done;)c()}catch(s){r.e(s)}finally{r.f()}return Object(l.a)(Object(l.a)({},e),{},{data:n});default:return e}},redis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pl:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Ll:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});case Dl:return{loading:!1,error:"",address:t.payload.address,data:t.payload.info,rawData:t.payload.raw_info,cluster:t.payload.cluster,rawClusterNodes:t.payload.raw_cluster_nodes,queueLocations:t.payload.queue_locations};default:return e}},metrics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ql:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Wl:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.error});case Yl:return{loading:!1,error:"",data:t.payload};default:return e}}}),Jd=function(){try{var e=localStorage.getItem(Yd);if(null===e)return{};var t=JSON.parse(e);return{settings:Object(l.a)(Object(l.a)({},Kr),t.settings||{})}}catch(a){return console.log("loadState: could not load state ",a),{}}}(),Zd=Object(Nd.a)({reducer:Wd,preloadedState:Jd});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));void 0===window.FLAG_ROOT_PATH?(console.log("ROOT_PATH is not defined. Falling back to emtpy string"),window.ROOT_PATH=""):window.ROOT_PATH=window.FLAG_ROOT_PATH,void 0===window.FLAG_PROMETHEUS_SERVER_ADDRESS?(console.log("PROMETHEUS_SERVER_ADDRESS is not defined. Falling back to emtpy string"),window.PROMETHEUS_SERVER_ADDRESS=""):window.FLAG_PROMETHEUS_SERVER_ADDRESS.startsWith("/[[")?(console.log("PROMETHEUS_SERVER_ADDRESS was not evaluated by the server. Falling back to empty string"),window.PROMETHEUS_SERVER_ADDRESS=""):window.PROMETHEUS_SERVER_ADDRESS=window.FLAG_PROMETHEUS_SERVER_ADDRESS,void 0===window.FLAG_READ_ONLY?(console.log("READ_ONLY is not defined. Falling back to false"),window.READ_ONLY=!1):window.FLAG_READ_ONLY.startsWith("/[[")?(console.log("READ_ONLY was not evaluated by the server. Falling back to false"),window.READ_ONLY=!1):window.READ_ONLY="true"===window.FLAG_READ_ONLY;var $d=void 0;Zd.subscribe((function(){$d!==($d=Zd.getState().settings)&&function(e){try{var t=JSON.stringify({settings:e.settings});localStorage.setItem(Yd,t)}catch(a){console.error("saveState: could not save state: ",a)}}(Zd.getState())})),s.a.render(Object(de.jsxs)(r.a.StrictMode,{children:[Object(de.jsx)(i.a,{}),Object(de.jsx)(o.a,{store:Zd,children:Object(de.jsx)(Id,{})})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[632,1,2]]]);
//# sourceMappingURL=main.8fb92a63.chunk.js.map